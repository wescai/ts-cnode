(function(e){function t(t){for(var r,c,a=t[0],u=t[1],s=t[2],l=0,f=[];l<a.length;l++)c=a[l],o[c]&&f.push(o[c][0]),o[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);d&&d(t);while(f.length)f.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,c=1;c<n.length;c++){var a=n[c];0!==o[a]&&(r=!1)}r&&(i.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},c={app:0},o={app:0},i=[];function a(e){return u.p+"js/"+({home:"home"}[e]||e)+"."+{"chunk-2c1d":"0e343c4b","chunk-3c77":"eca10cff","chunk-50c8":"e9f345c2","chunk-646e":"74426cbb","chunk-6f5b":"97f898b3","chunk-e7b1":"6b6935a1","chunk-fa2d":"e850e8eb","chunk-05e6":"b6f61ae2","chunk-4db3":"e2a8a615","chunk-3998":"56f83b48",home:"cb167a1c"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-2c1d":1,"chunk-3c77":1,"chunk-50c8":1,"chunk-646e":1,"chunk-6f5b":1,"chunk-e7b1":1,"chunk-fa2d":1,"chunk-05e6":1,"chunk-4db3":1,"chunk-3998":1,home:1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise(function(t,n){for(var r="css/"+({home:"home"}[e]||e)+"."+{"chunk-2c1d":"88903bea","chunk-3c77":"f94b6f38","chunk-50c8":"1c3d3809","chunk-646e":"50629962","chunk-6f5b":"b3c635dc","chunk-e7b1":"1b1e1b32","chunk-fa2d":"b2c1eba1","chunk-05e6":"7155830c","chunk-4db3":"4e426712","chunk-3998":"5176524a",home:"0aed7f8c"}[e]+".css",c=u.p+r,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var a=o[i],s=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(s===r||s===c))return t()}var l=document.getElementsByTagName("style");for(i=0;i<l.length;i++){a=l[i],s=a.getAttribute("data-href");if(s===r||s===c)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||c,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.request=r,n(o)},f.href=c;var d=document.getElementsByTagName("head")[0];d.appendChild(f)}).then(function(){c[e]=0}));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise(function(t,n){r=o[e]=[t,n]});t.push(r[2]=i);var s,l=document.getElementsByTagName("head")[0],f=document.createElement("script");f.charset="utf-8",f.timeout=120,u.nc&&f.setAttribute("nonce",u.nc),f.src=a(e),s=function(t){f.onerror=f.onload=null,clearTimeout(d);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src,i=new Error("Loading chunk "+e+" failed.\n("+r+": "+c+")");i.type=r,i.request=c,n[1](i)}o[e]=void 0}};var d=setTimeout(function(){s({type:"timeout",target:f})},12e4);f.onerror=f.onload=s,l.appendChild(f)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="",u.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0613":function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"state",function(){return m}),n.d(r,"actions",function(){return g}),n.d(r,"mutations",function(){return v}),n.d(r,"getters",function(){return b});var c={};n.r(c),n.d(c,"state",function(){return y}),n.d(c,"actions",function(){return j}),n.d(c,"mutations",function(){return E}),n.d(c,"getters",function(){return T});n("cadf"),n("551c"),n("097d");var o,i,a,u,s=n("2b0e"),l=n("2f62"),f=n("a322"),d=(n("f751"),n("96cf"),n("3040")),h=n("17da"),p=n("6c43"),m={currentTab:"all",tabbar:"home",topics:[],openTopics:[],topicsScroll:0},g=(o={},Object(f["a"])(o,p["c"],function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n,r,c,o=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=o.length>1&&void 0!==o[1]?o[1]:{tab:"all",page:1},e.next=4,Object(h["d"])(r.tab,r.page);case 4:c=e.sent,n(p["c"],c);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),Object(f["a"])(o,p["g"],function(e,t){var n=e.commit,r=e.dispatch;n(p["g"],t),r(p["c"],{tab:t})}),Object(f["a"])(o,p["b"],function(e,t){var n=e.commit;n(p["b"],t)}),Object(f["a"])(o,p["d"],function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var r,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Object(h["c"])(n);case 3:c=e.sent,c=Object.assign({},c,{scroll:0}),r(p["d"],c);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),Object(f["a"])(o,p["e"],function(e,t){var n=e.commit;n(p["e"],t)}),Object(f["a"])(o,p["f"],function(e,t){var n=e.commit;n(p["f"],t)}),Object(f["a"])(o,p["a"],function(e,t){var n=e.commit;n(p["a"],t)}),o),v=(i={},Object(f["a"])(i,p["c"],function(e,t){e.topics=e.topics.concat(t)}),Object(f["a"])(i,p["g"],function(e,t){e.currentTab=t,e.topics=[],e.topicsScroll=0}),Object(f["a"])(i,p["b"],function(e,t){e.tabbar=t}),Object(f["a"])(i,p["d"],function(e,t){var n=!1;e.openTopics.map(function(e){return e.id===t.id&&(n=!0)&&(e.replies=t.replies)}),!n&&e.openTopics.push(t)}),Object(f["a"])(i,p["e"],function(e,t){e.topicsScroll=t}),Object(f["a"])(i,p["f"],function(e,t){e.openTopics.map(function(e){e.id===t.id&&(e.scroll=t.scroll)})}),Object(f["a"])(i,p["a"],function(e,t){t.result&&e.openTopics.map(function(e){return e.id===t.topic&&(e.is_collect=!e.is_collect)})}),i),b={},k=(n("55dd"),n("133d")),_=n("ea9b"),O=n("a38f"),w=n("d257"),y={accessToken:Object(w["c"])("accessToken"),users:[],tab:"replies",scroll:0,loginname:"",avatar_url:"",id:"",message:[]},j=(a={},Object(f["a"])(a,O["d"],function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var r,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Object(_["d"])(n);case 3:c=e.sent,c["collect"]=[],r(O["d"],c);case 6:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),Object(f["a"])(a,O["a"],function(e,t){var n=e.commit;n(O["a"],t)}),Object(f["a"])(a,O["e"],function(e,t){var n=e.commit;n(O["e"],t)}),Object(f["a"])(a,O["f"],function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var r,c,o,i,a,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,c=t.dispatch,e.next=3,Object(_["e"])(n);case 3:if(o=e.sent,i=o.success,a=Object(k["a"])(o,["success"]),i){e.next=8;break}return e.abrupt("return",!1);case 8:return u=Object.assign({},a,{accessToken:n}),c(O["d"],a.loginname),r(O["f"],u),e.abrupt("return",!0);case 12:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),Object(f["a"])(a,O["g"],function(e){var t=e.commit;t(O["g"])}),Object(f["a"])(a,O["b"],function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var r,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Object(_["g"])(n);case 3:c=e.sent,r(O["b"],c);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),Object(f["a"])(a,O["c"],function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t,n){var r,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,Object(_["c"])(n);case 3:c=e.sent,c.sort(S),Object.assign(c,{loginname:n}),r(O["c"],c);case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()),a),E=(u={},Object(f["a"])(u,O["d"],function(e,t){t.recent_replies.sort(S),t.recent_topics.sort(S),e.tab="replies",e.scroll=0,e.users.push(t)}),Object(f["a"])(u,O["a"],function(e,t){e.tab=t}),Object(f["a"])(u,O["e"],function(e,t){e.scroll=t}),Object(f["a"])(u,O["f"],function(e,t){Object.assign(e,t),Object(w["e"])("accessToken",t.accessToken),Object(w["e"])("loginName",t.loginname)}),Object(f["a"])(u,O["g"],function(e){e.accessToken="",e.avatar_url="",e.id="",e.loginname="",e.message=[],Object(w["d"])("accessToken"),Object(w["d"])("loginName")}),Object(f["a"])(u,p["a"],function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(_["c"])(t.loginname||Object(w["c"])("loginName"));case 2:n=e.sent,t.users.length&&(t.users[0]["collect"]=n);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()),Object(f["a"])(u,O["b"],function(e,t){e.message=t}),Object(f["a"])(u,O["c"],function(e,t){e.users.map(function(e){return e.loginname===t.loginname&&(e.collect=t)})}),u),T={token:function(e){return e.accessToken}},S=function(e,t){return+new Date(t.last_reply_at)-+new Date(e.last_reply_at)};s["default"].use(l["a"]);t["a"]=new l["a"].Store({state:{request:!1},mutations:{request:function(e,t){e.request=t}},modules:{topics:r,user:c}})},"0fc1":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");t["default"]={path:"/qrcode",name:"Qrcode",component:function(){return n.e("chunk-2c1d").then(n.bind(null,"0642"))},props:!0}},"13f8":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");t["default"]={path:"/details/:topic",name:"TopicDetails",component:function(){return n.e("chunk-3c77").then(n.bind(null,"2539"))},props:!0}},1782:function(e,t,n){"use strict";var r=n("5057"),c=n.n(r);t["default"]=c.a},"17da":function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var r=n("79f6"),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return Object(r["a"])("topics",{tab:e,page:t,limit:n}).then(function(e){return e.data.data})},o=function(e){return Object(r["a"])("topic/".concat(e)).then(function(e){return e.data.data})},i=function(e){return Object(r["b"])("topics",e).then(function(e){return e.data})},a=function(e){var t=e.content,n=e.topic_id;return Object(r["b"])("topic/".concat(n,"/replies"),{content:t}).then(function(e){return e.data})}},"26e2":function(e,t,n){},2856:function(e,t,n){},"48b8":function(e,t,n){},"4d9c":function(e,t,n){"use strict";var r=n("6bde"),c=n("c665"),o=n("aa9a"),i=n("2b0e"),a={},u=["Null","Array","String","Object","Number","Boolean","Function","Undefined"];u.map(function(e){return a["is".concat(e)]=function(t){return toString.call(t)==="[object ".concat(e,"]")}});var s=a,l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"toast"}},[e.show?n("div",{class:e.toast},[n("div",{staticClass:"wu-toast-content"},[e._v(e._s(e.message))])]):e._e()])},f=[],d=(n("c5f6"),n("dc0a")),h=n("d328"),p=n("11d9"),m=n("9ab4"),g=n("60a3"),v=n("ac62"),b="wu-toast",k=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(h["a"])(this,Object(p["a"])(t).apply(this,arguments)),e.show=!0,e}return Object(o["a"])(t,[{key:"mounted",value:function(){var e=this;this.duration>0&&setTimeout(function(){e.show=!e.show},this.duration)}},{key:"toast",get:function(){return["".concat(b),"".concat(b,"-").concat(this.position)]}}]),Object(d["a"])(t,e),t}(g["c"]);m["a"]([Object(g["b"])(),m["b"]("design:type",String)],k.prototype,"message",void 0),m["a"]([Object(g["b"])({default:3e3}),m["b"]("design:type",Number)],k.prototype,"duration",void 0),m["a"]([Object(g["b"])({default:"center"}),m["b"]("design:type",String)],k.prototype,"position",void 0),k=m["a"]([Object(g["a"])({components:{Icon:v["a"]}})],k);var _=k,O=_,w=(n("5f5b"),n("2877")),y=Object(w["a"])(O,l,f,!1,null,null,null);y.options.__file="toast.vue";var j=y.exports;n.d(t,"a",function(){return x});var E=i["default"].extend(j),T=document.createElement("div"),S=function(e){return s.isObject(e)?e:{message:e}},C=function(){function e(){Object(c["a"])(this,e),this.queue=[]}return Object(o["a"])(e,[{key:"createToast",value:function(e){var t=S(e),n=new E({el:T,propsData:t});return document.body.appendChild(n.$el),this.queue.push(n),this.queue[this.queue.length-1]}},{key:"show",value:function(e){if(("string"!==typeof e||e)&&("object"!==Object(r["a"])(e)||e.message))return this.createToast(e)}},{key:"hide",value:function(){this.queue[this.queue.length-1].show=!1,this.queue.pop()}},{key:"clearAll",value:function(){this.queue.map(function(e){return e.show=!1}),this.queue=[]}}]),e}(),x=new C},5057:function(e,t,n){e.exports={image:"index_image_2CkF6"}},"5c0b":function(e,t,n){"use strict";var r=n("2856"),c=n.n(r);c.a},"5f5b":function(e,t,n){"use strict";var r=n("48b8"),c=n.n(r);c.a},"6c43":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return c}),n.d(t,"g",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return u}),n.d(t,"a",function(){return s});var r="REQUEST__TOPICS",c="REQUEST__TOPIC__DETAILS",o="TOPICS__CHANGE__TAB",i="CHANGE__TABBAR",a="SET__TOPICS__SCROLL",u="SET__TOPIC__SCROLL",s="CHANGE__COLLECT"},"79f6":function(e,t,n){"use strict";n("f751");var r=n("bc3a"),c=n.n(r),o="https://cnodejs.org/api/v1/",i=n("4d9c"),a=n("0613"),u=n("a38f");n.d(t,"a",function(){return f}),n.d(t,"b",function(){return d});var s=function(){return a["a"].getters.token},l=c.a.create({baseURL:o,timeout:0,headers:{"X-Requested-With":"XMLHttpRequest"},maxContentLength:2e3});l.interceptors.request.use(function(e){a["a"].commit("request",!0);var t=!!~e.url.indexOf("accesstoken"),n=e.method;return"get"===n&&!e.params&&s()&&(e.params=Object.assign({},e.params,{accesstoken:s()})),"post"!==n||t||(e.data=Object.assign({},e.data,{accesstoken:s()})),e},function(e){return Promise.reject(e)}),l.interceptors.response.use(function(e){return a["a"].commit("request",!1),e},function(e){var t=e.response;if(a["a"].commit("request",!1),404!==t.status){var n=t.data&&t.data.error_msg||"";a["a"].commit(u["g"]),i["a"].show({message:n,duration:5e3})}else i["a"].show("API 未开放")});var f=function(e,t){return l.get(e,{params:t})},d=function(e,t){return l.post(e,t)}},"802c":function(e,t,n){"use strict";var r=n("d914"),c=n.n(r);t["default"]=c.a},"86f2":function(e,t,n){"use strict";n.r(t),t["default"]={name:"NotFound",path:"*",component:function(){return n.e("chunk-e7b1").then(n.bind(null,"9726"))}}},"93a2":function(e,t,n){var r={"./_local/_router.ts":"a06c","./details/_router.ts":"13f8","./edit/_router.ts":"f0d5","./home/_router.ts":"97cb","./login/_router.ts":"a228","./message/_router.ts":"a510","./notfound/_router.ts":"86f2","./qrcode-login/_router.ts":"0fc1","./setting/_router.ts":"a63c","./user/_router.ts":"c0ab"};function c(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}c.keys=function(){return Object.keys(r)},c.resolve=o,e.exports=c,c.id="93a2"},"97cb":function(e,t,n){"use strict";n.r(t),t["default"]={path:"/",name:"Home",component:function(){return Promise.all([n.e("chunk-fa2d"),n.e("chunk-3998")]).then(n.bind(null,"f5b8"))},meta:{keepAlive:!0}}},a06c:function(e,t,n){"use strict";n.r(t),t["default"]={private:!0,name:"local",path:"/local",component:function(){return n.e("home").then(n.bind(null,"782a"))}}},a228:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");t["default"]={path:"/login",name:"Login",component:function(){return Promise.all([n.e("chunk-fa2d"),n.e("chunk-05e6"),n.e("chunk-4db3")]).then(n.bind(null,"efcf"))},props:!0}},a38f:function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return i}),n.d(t,"g",function(){return a}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return s});var r="GET__USER__INFO",c="CHANGE__USER__TAB",o="UPDATE__USER__SCROLL",i="USER__LOGIN",a="USER__LOGOUT",u="GET__MY__MESSAGE",s="GET__USER__COLLECT"},a510:function(e,t,n){"use strict";n.r(t),t["default"]={path:"/message",name:"Message",component:function(){return n.e("chunk-50c8").then(n.bind(null,"e83e"))}}},a63c:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");t["default"]={name:"Setting",path:"/setting",component:function(){return n.e("chunk-6f5b").then(n.bind(null,"ff38"))}}},ac62:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("i",e._g({class:e.className},e.$listeners))},c=[],o=n("c665"),i=n("dc0a"),a=n("aa9a"),u=n("d328"),s=n("11d9"),l=n("9ab4"),f=n("60a3"),d="iconfont",h=function(e){function t(){return Object(o["a"])(this,t),Object(u["a"])(this,Object(s["a"])(t).apply(this,arguments))}return Object(a["a"])(t,[{key:"className",get:function(){return["".concat(d),"icon-".concat(this.type)]}}]),Object(i["a"])(t,e),t}(f["c"]);l["a"]([Object(f["b"])(),l["b"]("design:type",String)],h.prototype,"type",void 0),h=l["a"]([f["a"]],h);var p=h,m=p,g=n("2877"),v=Object(g["a"])(m,r,c,!1,null,null,null);v.options.__file="index.vue";t["a"]=v.exports},c0ab:function(e,t,n){"use strict";n.r(t),t["default"]={path:"/user/:loginname",name:"User",component:function(){return Promise.all([n.e("chunk-fa2d"),n.e("chunk-05e6")]).then(n.bind(null,"1de2"))},props:!0}},c1c7:function(e,t,n){"use strict";(function(e){var t=n("6bde");n("4917");(function(){
/**
   * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
   *
   * @codingstandard ftlabs-jsv2
   * @copyright The Financial Times Limited [All Rights Reserved]
   * @license MIT License (see LICENSE.txt)
   */
function r(e,t){var n;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,this.tapTimeout=t.tapTimeout||700,!r.notNeeded(e)){for(var c=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],i=this,a=0,u=c.length;a<u;a++)i[c[a]]=s(i[c[a]],i);o&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var c=Node.prototype.removeEventListener;"click"===t?c.call(e,t,n.hijacked||n,r):c.call(e,t,n,r)},e.addEventListener=function(t,n,r){var c=Node.prototype.addEventListener;"click"===t?c.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):c.call(e,t,n,r)}),"function"===typeof e.onclick&&(n=e.onclick,e.addEventListener("click",function(e){n(e)},!1),e.onclick=null)}function s(e,t){return function(){return e.apply(t,arguments)}}}var c=navigator.userAgent.indexOf("Windows Phone")>=0,o=navigator.userAgent.indexOf("Android")>0&&!c,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!c,a=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),u=i&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;r.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(i&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},r.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!o;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},r.prototype.sendClick=function(e,t){var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},r.prototype.determineEventType=function(e){return o&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},r.prototype.focus=function(e){var t;i&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type&&"email"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},r.prototype.updateScrollParent=function(e){var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},r.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},r.prototype.onTouchStart=function(e){var t,n,r;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],i){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!a){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},r.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n},r.prototype.onTouchMove=function(e){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0)},r.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},r.prototype.onTouchEnd=function(e){var t,n,r,c,s,l=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,u&&(s=e.changedTouches[0],l=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=l.tagName.toLowerCase(),"label"===r){if(t=this.findControl(l),t){if(this.focus(l),o)return!1;l=t}}else if(this.needsFocus(l))return e.timeStamp-n>100||i&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,e),i&&"select"===r||(this.targetElement=null,e.preventDefault()),!1);return!(!i||a||(c=l.fastClickScrollParent,!c||c.fastClickLastScrollTop===c.scrollTop))||(this.needsClick(l)||(e.preventDefault(),this.sendClick(l,e)),!1)},r.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},r.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},r.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail||(t=this.onMouse(e),t||(this.targetElement=null),t)},r.prototype.destroy=function(){var e=this.layer;o&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},r.notNeeded=function(e){var t,n,r,c;if("undefined"===typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],n){if(!o)return!0;if(t=document.querySelector("meta[name=viewport]"),t){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(t=document.querySelector("meta[name=viewport]"),t))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"manipulation"===e.style.touchAction||(c=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(c>=27&&(t=document.querySelector("meta[name=viewport]"),t&&(-1!==t.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===e.style.touchAction||"manipulation"===e.style.touchAction))},r.attach=function(e,t){return new r(e,t)},"function"===typeof define&&"object"===Object(t["a"])(n("3c35"))&&n("3c35")?define(function(){return r}):"undefined"!==typeof e&&e.exports?(e.exports=r.attach,e.exports.FastClick=r):window.FastClick=r})()}).call(this,n("dd40")(e))},cd49:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"home",function(){return F}),n.d(r,"details",function(){return H}),n.d(r,"user",function(){return Y}),n.d(r,"publish",function(){return X}),n.d(r,"qrcode",function(){return G}),n.d(r,"message",function(){return W}),n.d(r,"login",function(){return Q}),n.d(r,"setting",function(){return V});n("cadf"),n("551c"),n("097d");var c=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("keep-alive",[e.$route.meta.keepAlive?n("router-view"):e._e()],1),e.$route.meta.keepAlive?e._e():n("router-view")],1)},i=[],a=n("c665"),u=n("dc0a"),s=n("aa9a"),l=n("d328"),f=n("11d9"),d=n("9ab4"),h=n("60a3"),p=(n("a481"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("div",{class:e.$style.imgView,on:{click:function(t){e.show=!1}}},[n("img",{attrs:{src:e.src}})]):e._e()}),m=[],g=function(e){function t(){var e;return Object(a["a"])(this,t),e=Object(l["a"])(this,Object(f["a"])(t).apply(this,arguments)),e.show=!0,e}return Object(s["a"])(t,[{key:"mounted",value:function(){var e=this;this.$nextTick(function(){e.$el.scrollLeft=(e.$el.scrollWidth-e.$el.clientWidth)/2})}}]),Object(u["a"])(t,e),t}(h["c"]);d["a"]([Object(h["b"])(),d["b"]("design:type",String)],g.prototype,"src",void 0),g=d["a"]([h["a"]],g);var v=g,b=v,k=n("802c"),_=n("2877");function O(e){this["$style"]=k["default"].locals||k["default"]}var w=Object(_["a"])(b,p,m,!1,O,null,null);w.options.__file="img-view.vue";var y=w.exports,j=c["default"].extend(y),E=document.createElement("div"),T=function e(t){Object(a["a"])(this,e),document.body.appendChild(new j({el:E,propsData:{src:t}}).$el)},S=function(e){return new T(e)},C=function(){document.querySelector("#app").addEventListener("click",function(e){var t=e||window.event,n=t.target,r=n.host===window.location.host;if("a"===n.nodeName.toLowerCase()&&r&&~n.textContent.indexOf("@")){var c=n.textContent.replace("@","");e.preventDefault();var o=location,i=o.origin,a=o.pathname;location.href="".concat(i).concat(a,"#/user/").concat(c)}"img"===n.nodeName.toLowerCase()&&S(n.currentSrc)})},x=function(e){function t(){return Object(a["a"])(this,t),Object(l["a"])(this,Object(f["a"])(t).apply(this,arguments))}return Object(s["a"])(t,[{key:"mounted",value:function(){C()}}]),Object(u["a"])(t,e),t}(h["c"]);x=d["a"]([h["a"]],x);var A=x,L=A,N=(n("5c0b"),Object(_["a"])(L,o,i,!1,null,null,null));N.options.__file="App.vue";var P=N.exports,R=(n("ac6a"),n("8c4f"));c["default"].use(R["a"]);var I,q=!1,M=[],D=n("93a2");D.keys().forEach(function(e){var t=D(e).default;t.private&&!q||("*"!==t.path?M.push(t):I=t)}),I&&M.push(I);var B,U=new R["a"]({routes:M}),$=n("0613"),F=function(){return"/"},H=function(e){return"/details/".concat(e)},Y=function(e){return"/user/".concat(e)},X=function(){return"/publish"},G=function(){return"/qrcode"},W=function(){return"/message"},Q=function(){return"/login"},V=function(){return"/setting"},z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("img",{ref:"img",class:e.$style.image,attrs:{"data-src":e.src,src:e.placeholder}})},J=[],K=(n("96cf"),n("3040")),Z=0;if(!("IntersectionObserver"in window)){var ee=document.createElement("script");ee.src="https://polyfill.io/v2/polyfill.min.js?features=IntersectionObserver",document.body.appendChild(ee)}var te=function(e){function t(){return Object(a["a"])(this,t),Object(l["a"])(this,Object(f["a"])(t).apply(this,arguments))}return Object(s["a"])(t,[{key:"mounted",value:function(){var e=this.$refs.img;this.lazy?(B||(B=new IntersectionObserver(this.handerIntersecationObserver,{threshold:1})),B.observe(e),Z++):this.loadImg(e)}},{key:"handerIntersecationObserver",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];n.intersectionRatio>0&&(B.unobserve(n.target),Z--,this.loadImg(n.target),0===Z&&this.unObserve())}}},{key:"unObserve",value:function(){B.disconnect(),B=null}},{key:"loadImg",value:function(){var e=Object(K["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.dataset.src,e.prev=1,e.next=4,this.fetchImage(n);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e["catch"](1),console.log("img loading errr  %o",e.t0),e.abrupt("return");case 10:t.src=n;case 11:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()},{key:"fetchImage",value:function(e){return new Promise(function(t,n){var r=new Image;r.src=e,r.onload=t,r.onerror=n})}}]),Object(u["a"])(t,e),t}(h["c"]);d["a"]([Object(h["b"])({default:!0}),d["b"]("design:type",Boolean)],te.prototype,"lazy",void 0),d["a"]([Object(h["b"])(),d["b"]("design:type",String)],te.prototype,"fallback",void 0),d["a"]([Object(h["b"])(),d["b"]("design:type",String)],te.prototype,"src",void 0),d["a"]([Object(h["b"])({default:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}),d["b"]("design:type",String)],te.prototype,"placeholder",void 0),te=d["a"]([h["a"]],te);var ne=te,re=ne,ce=n("1782");function oe(e){this["$style"]=ce["default"].locals||ce["default"]}var ie=Object(_["a"])(re,z,J,!1,oe,null,null);ie.options.__file="index.vue";var ae=ie.exports,ue=n("a70e"),se=n.n(ue),le=n("4dd1"),fe=n.n(le);n("9f21");se.a.registerLanguage("javascript",fe.a),c["default"].directive("highlight",function(e){var t=e.querySelectorAll("pre code");t.length&&t.forEach(function(e){se.a.highlightBlock(e)})});n("26e2"),n("c1c7"),n("f5df");c["default"].component("image-lazy",ae),window.FastClick.attach(document.body),c["default"].config.productionTip=!1,new c["default"]({el:"#app",router:U,store:$["a"],render:function(e){return e(P)},provide:{path:r}})},d257:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return u});var r=function(e,t){return window.localStorage.setItem(e,t)},c=function(e){return window.localStorage.getItem(e)},o=function(e){return window.localStorage.removeItem(e)},i=function(e,t){return document.querySelector(e)[t]},a=function(e){return e.reduce(function(e,t){return e+i(t,"clientHeight")},0)},u=document.documentElement.clientHeight},d914:function(e,t,n){e.exports={iconfont:"img-view_iconfont_1gr57","icon-message":"img-view_icon-message_7k-Pa","icon-edit":"img-view_icon-edit_cYfI7","icon-moonfill":"img-view_icon-moonfill_1Lz8x","icon-about":"img-view_icon-about_1vLsb","icon-scan":"img-view_icon-scan_3LVNw","icon-setting":"img-view_icon-setting_1ghC-","icon-chakan":"img-view_icon-chakan_2LV5v","icon-comment":"img-view_icon-comment_1iDsj","icon-hot":"img-view_icon-hot_PVuQE","icon-top":"img-view_icon-top_1pxU_","icon-content":"img-view_icon-content_d8uaP","icon-title":"img-view_icon-title_KZjmY","icon-back":"img-view_icon-back_2Q0yA","icon-no-message":"img-view_icon-no-message_2p25H","icon-no-data":"img-view_icon-no-data_2NhAg","icon-good":"img-view_icon-good_3bgPh","icon-classify":"img-view_icon-classify_-lmwh","icon-user":"img-view_icon-user_ttjim","icon-home":"img-view_icon-home_1mUEy","icon-like":"img-view_icon-like_3VsvI","icon-right":"img-view_icon-right_1dZtB","icon-left":"img-view_icon-left_1er2U","icon-menu":"img-view_icon-menu_2EYPL","icon-message-fill":"img-view_icon-message-fill_73kOQ","icon-home-fill":"img-view_icon-home-fill_19UcK","icon-like-fill":"img-view_icon-like-fill_2tgQC","icon-message-copy":"img-view_icon-message-copy_1Nruc","markdown-text":"img-view_markdown-text_MzeJS",imgView:"img-view_imgView_zCRro"}},ea9b:function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"e",function(){return u}),n.d(t,"g",function(){return s}),n.d(t,"f",function(){return l});var r=n("79f6"),c=function(e){return Object(r["a"])("user/".concat(e)).then(function(e){return e.data.data})},o=function(e){return Object(r["a"])("topic_collect/".concat(e)).then(function(e){return e.data.data})},i=function(e){return Object(r["b"])("topic_collect/collect",e).then(function(e){return e.data.success})},a=function(e){return Object(r["b"])("topic_collect/de_collect",e).then(function(e){return e.data.success})},u=function(e){return Object(r["b"])("accesstoken",{accesstoken:e}).then(function(e){return e.data})},s=function(e){return Object(r["a"])("messages",{accesstoken:e}).then(function(e){var t=e.data.data,n=t.has_read_messages,r=t.hasnot_read_messages;return r.concat(n)})},l=function(){return Object(r["b"])("message/mark_all").then(function(e){return e.data})}},f0d5:function(e,t,n){"use strict";n.r(t),t["default"]={path:"/publish",name:"Publish",component:function(){return n.e("chunk-646e").then(n.bind(null,"f0e8"))}}}});
//# sourceMappingURL=app.b8d44ed5.js.map