(function(t){function e(e){for(var a,c,s=e[0],r=e[1],u=e[2],p=0,d=[];p<s.length;p++)c=s[p],i[c]&&d.push(i[c][0]),i[c]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var r=n[s];0!==i[r]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},i={app:0},o=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=r;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"026b":function(t,e,n){"use strict";var a=n("77eb"),i=n.n(a);i.a},"02a0":function(t,e,n){},"0a8c":function(t,e,n){},"16c5":function(t,e,n){"use strict";var a=n("5b7d"),i=n.n(a);i.a},"1cc0":function(t,e,n){"use strict";var a=n("f66a"),i=n.n(a);i.a},"20c8":function(t,e,n){},"26e2":function(t,e,n){},2856:function(t,e,n){},"2d9f":function(t,e,n){},"2eff":function(t,e,n){},3343:function(t,e,n){},"3b2a":function(t,e,n){"use strict";var a=n("0a8c"),i=n.n(a);i.a},"3e69":function(t,e,n){},"438d":function(t,e,n){},"48b8":function(t,e,n){},"4a09":function(t,e,n){},"4dc5":function(t,e,n){"use strict";var a=n("af12"),i=n.n(a);i.a},"51b3":function(t,e,n){"use strict";var a=n("3e69"),i=n.n(a);i.a},5442:function(t,e,n){"use strict";var a=n("438d"),i=n.n(a);i.a},"5b7d":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var a=n("2856"),i=n.n(a);i.a},"5e3f":function(t,e,n){"use strict";var a=n("2eff"),i=n.n(a);i.a},"5f5b":function(t,e,n){"use strict";var a=n("48b8"),i=n.n(a);i.a},6641:function(t,e,n){"use strict";var a=n("20c8"),i=n.n(a);i.a},"6aec":function(t,e,n){"use strict";var a=n("02a0"),i=n.n(a);i.a},"6f07":function(t,e){},7514:function(t,e,n){},"77eb":function(t,e,n){},"7ea8":function(t,e,n){"use strict";var a=n("b77a"),i=n.n(a);i.a},8331:function(t,e,n){"use strict";var a=n("7514"),i=n.n(a);i.a},"8a8f":function(t,e,n){"use strict";var a=n("dee0"),i=n.n(a);i.a},9225:function(t,e,n){t.exports={iconfont:"index_iconfont_35__o","icon-message":"index_icon-message_1iYuA","icon-edit":"index_icon-edit_3NqX2","icon-chakan":"index_icon-chakan_19b4I","icon-comment":"index_icon-comment_gd07i","icon-hot":"index_icon-hot_1Mnhm","icon-top":"index_icon-top_Wq3MR","icon-content":"index_icon-content_1cbn2","icon-title":"index_icon-title_1H63i","icon-back":"index_icon-back_3U61F","icon-no-message":"index_icon-no-message_1cqEm","icon-no-data":"index_icon-no-data_1LvTg","icon-loading":"index_icon-loading_22pbx","icon-good":"index_icon-good_3kk5H","icon-classify":"index_icon-classify_2dgx0","icon-user":"index_icon-user_cjO-o","icon-home":"index_icon-home_2Rp8q","icon-like":"index_icon-like_3P7fZ","icon-right":"index_icon-right_vLXpd","icon-left":"index_icon-left_3baKx","icon-menu":"index_icon-menu_gma5R","icon-message-fill":"index_icon-message-fill_29dV_","icon-home-fill":"index_icon-home-fill_c3MBr","icon-like-fill":"index_icon-like-fill_3_piu","icon-message-copy":"index_icon-message-copy_2CP_l",content:"index_content_Fvito",tabContainerItem:"index_tabContainerItem_3zk5t",iconTop:"index_iconTop_6c0Wg"}},a492:function(t,e,n){},a775:function(t,e,n){"use strict";var a=n("b194"),i=n.n(a);i.a},af12:function(t,e,n){},b0ee:function(t,e,n){"use strict";var a=n("4a09"),i=n.n(a);i.a},b194:function(t,e,n){},b3a8:function(t,e,n){"use strict";var a=n("a492"),i=n.n(a);i.a},b77a:function(t,e,n){},bed9:function(t,e,n){"use strict";var a=n("da3a"),i=n.n(a);i.a},c1c7:function(t,e,n){"use strict";(function(t){var e=n("6bde");n("4917");(function(){
/**
   * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
   *
   * @codingstandard ftlabs-jsv2
   * @copyright The Financial Times Limited [All Rights Reserved]
   * @license MIT License (see LICENSE.txt)
   */
function a(t,e){var n;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!a.notNeeded(t)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],c=this,s=0,r=i.length;s<r;s++)c[i[s]]=u(c[i[s]],c);o&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,a){var i=Node.prototype.removeEventListener;"click"===e?i.call(t,e,n.hijacked||n,a):i.call(t,e,n,a)},t.addEventListener=function(e,n,a){var i=Node.prototype.addEventListener;"click"===e?i.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),a):i.call(t,e,n,a)}),"function"===typeof t.onclick&&(n=t.onclick,t.addEventListener("click",function(t){n(t)},!1),t.onclick=null)}function u(t,e){return function(){return t.apply(e,arguments)}}}var i=navigator.userAgent.indexOf("Windows Phone")>=0,o=navigator.userAgent.indexOf("Android")>0&&!i,c=/iP(ad|hone|od)/.test(navigator.userAgent)&&!i,s=c&&/OS 4_\d(_\d)?/.test(navigator.userAgent),r=c&&/OS [6-7]_\d/.test(navigator.userAgent),u=navigator.userAgent.indexOf("BB10")>0;a.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(c&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},a.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!o;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},a.prototype.sendClick=function(t,e){var n,a;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),a=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},a.prototype.determineEventType=function(t){return o&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(t){var e;c&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type&&"email"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},a.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},a.prototype.onTouchStart=function(t){var e,n,a;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],c){if(a=window.getSelection(),a.rangeCount&&!a.isCollapsed)return!0;if(!s){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},a.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},a.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},a.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(t){var e,n,a,i,u,l=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,r&&(u=t.changedTouches[0],l=document.elementFromPoint(u.pageX-window.pageXOffset,u.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),a=l.tagName.toLowerCase(),"label"===a){if(e=this.findControl(l),e){if(this.focus(l),o)return!1;l=e}}else if(this.needsFocus(l))return t.timeStamp-n>100||c&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,t),c&&"select"===a||(this.targetElement=null,t.preventDefault()),!1);return!(!c||s||(i=l.fastClickScrollParent,!i||i.fastClickLastScrollTop===i.scrollTop))||(this.needsClick(l)||(t.preventDefault(),this.sendClick(l,t)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},a.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},a.prototype.destroy=function(){var t=this.layer;o&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(t){var e,n,a,i;if("undefined"===typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],n){if(!o)return!0;if(e=document.querySelector("meta[name=viewport]"),e){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(u&&(a=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),a[1]>=10&&a[2]>=3&&(e=document.querySelector("meta[name=viewport]"),e))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(i=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(i>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},a.attach=function(t,e){return new a(t,e)},"function"===typeof define&&"object"===Object(e["a"])(n("3c35"))&&n("3c35")?define(function(){return a}):"undefined"!==typeof t&&t.exports?(t.exports=a.attach,t.exports.FastClick=a):window.FastClick=a})()}).call(this,n("dd40")(t))},c5c6:function(t,e,n){"use strict";var a=n("3343"),i=n.n(a);i.a},cc79:function(t,e,n){"use strict";var a=n("ffad"),i=n.n(a);i.a},cd49:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"state",function(){return wn}),n.d(a,"actions",function(){return kn}),n.d(a,"mutations",function(){return Tn}),n.d(a,"getters",function(){return Cn});var i={};n.r(i),n.d(i,"state",function(){return Un}),n.d(i,"actions",function(){return qn}),n.d(i,"mutations",function(){return Bn}),n.d(i,"getters",function(){return Xn});var o={};n.r(o),n.d(o,"home",function(){return Si}),n.d(o,"details",function(){return Ei}),n.d(o,"user",function(){return Ii}),n.d(o,"edit",function(){return Li});n("cadf"),n("551c"),n("097d");var c=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],u=(n("a481"),n("c665")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"wu-imgView",on:{click:function(e){t.show=!1}}},[n("img",{attrs:{src:t.src}})]):t._e()},p=[],d=n("dc0a"),h=n("aa9a"),f=n("d328"),b=n("11d9"),v=n("9ab4"),m=n("60a3"),_=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments)),t.show=!0,t}return Object(h["a"])(e,[{key:"mounted",value:function(){var t=this;this.$nextTick(function(){t.$el.scrollLeft=(t.$el.scrollWidth-t.$el.clientWidth)/2})}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type",String)],_.prototype,"src",void 0),_=v["a"]([m["a"]],_);var g=_,y=g,O=(n("a775"),n("2877")),j=Object(O["a"])(y,l,p,!1,null,null,null);j.options.__file="img-view.vue";var w=j.exports,k=c["default"].extend(w),T=document.createElement("div"),C=function t(e){Object(u["a"])(this,t),document.body.appendChild(new k({el:T,propsData:{src:e}}).$el)},x=function(t){return new C(t)},S=function(){document.querySelector("#app").addEventListener("click",function(t){var e=t||window.event,n=e.target,a=n.host===window.location.host;if("a"===n.nodeName.toLowerCase()&&a&&~n.textContent.indexOf("@")){var i=n.textContent.replace("@","");t.preventDefault(),window.location.href="".concat(window.location.origin).concat(window.location.pathname,"#/user/").concat(i)}"img"===n.nodeName.toLowerCase()&&x(n.currentSrc)})},E={mounted:function(){S()}},I=E,L=(n("5c0b"),Object(O["a"])(I,s,r,!1,null,null,null));L.options.__file="App.vue";var $=L.exports,N=n("8c4f"),M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("tab-container",{model:{value:t.tabbar,callback:function(e){t.tabbar=e},expression:"tabbar"}},[n("tab-container-item",{attrs:{id:"home"}},[n("home")],1),n("tab-container-item",{attrs:{id:"edit"}},[n("edit")],1),n("tab-container-item",{attrs:{id:"user"}},["user"===t.tabbar?n("login"):t._e()],1),n("tab-container-item",{attrs:{id:"message"}},["message"===t.tabbar?n("message"):t._e()],1)],1),n("tab-bar",{model:{value:t.tabbar,callback:function(e){t.tabbar=e},expression:"tabbar"}},t._l(t.tabbars,function(e){return n("tab-bar-tab",{key:e.id,attrs:{id:e.id}},[n("Icon",{attrs:{slot:"icon",type:e.id},slot:"icon"}),t._v(t._s(e.value)+"\n    ")],1)}))],1)},R=[],A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.className},[t._t("default")],2)},P=[],H="wu-tabbar",D=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(h["a"])(e,[{key:"className",get:function(){return["".concat(H),"".concat(H,"-").concat(this.tabbarPosition)]}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])({default:"bottom"}),v["b"]("design:type",String)],D.prototype,"tabbarPosition",void 0),v["a"]([Object(m["b"])(),v["b"]("design:type",String)],D.prototype,"value",void 0),D=v["a"]([m["a"]],D);var F=D,U=F,q=(n("cc79"),Object(O["a"])(U,A,P,!1,null,null,null));q.options.__file="index.vue";var B=q.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.tabbarTabCls,on:{click:function(e){t.$parent.$emit("input",t.id)}}},[n("div",{staticClass:"wu-tabbar-tab-icon"},[t._t("icon")],2),n("div",{staticClass:"wu-tabbar-tab-title"},[t._t("default")],2)])},Y=[],W=n("a322"),G="wu-tabbar-tab",V=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(h["a"])(e,[{key:"tabbarTabCls",get:function(){return["".concat(G),Object(W["a"])({},"".concat(G,"-is-selected"),this.$parent.value===this.id)]}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type",String)],V.prototype,"id",void 0),V=v["a"]([m["a"]],V);var J=V,Q=J,z=(n("026b"),Object(O["a"])(Q,X,Y,!1,null,null,null));z.options.__file="index.vue";var K=z.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("i",{class:t.className})},tt=[],et="iconfont",nt=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(h["a"])(e,[{key:"className",get:function(){return["".concat(et),"icon-".concat(this.type)]}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type",String)],nt.prototype,"type",void 0),nt=v["a"]([m["a"]],nt);var at=nt,it=at,ot=Object(O["a"])(it,Z,tt,!1,null,null,null);ot.options.__file="index.vue";var ct=ot.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._g({staticClass:"wu-tab-container"},t.$listeners),[t._t("default")],2)},rt=[],ut=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type",String)],ut.prototype,"value",void 0),ut=v["a"]([m["a"]],ut);var lt=ut,pt=lt,dt=(n("b0ee"),Object(O["a"])(pt,st,rt,!1,null,null,null));dt.options.__file="index.vue";var ht=dt.exports,ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.id===t.$parent.value,expression:"id === $parent.value"}],staticClass:"wu-tab-container-item"},[t._t("default")],2)},bt=[],vt=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type",String)],vt.prototype,"id",void 0),vt=v["a"]([m["a"]],vt);var mt=vt,_t=mt,gt=(n("b3a8"),Object(O["a"])(_t,ft,bt,!1,null,null,null));gt.options.__file="index.vue";var yt=gt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.home},[n("nav-bar",[t._v("首页")]),n("div",{class:t.$style.content},[n("tabs",{model:{value:t.topicsTab,callback:function(e){t.topicsTab=e},expression:"topicsTab"}},t._l(t.topicTabs,function(e){return n("tabs-item",{key:e.id,attrs:{id:e.id}},[t._v(t._s(e.value))])})),n("tab-container",{ref:"topicsContent",style:t.styContent,on:{scroll:t.handlerScroll,touchend:t.handlerTouchend,touchmove:t.handlerTouchmove,touchstart:t.handlerTouchStart}},t._l(t.topics,function(e,a){return n("tab-container-item",{key:a,class:t.$style.tabContainerItem},[n("router-link",{attrs:{to:t.path.details(e.id)}},[n("topics-card",{attrs:{topics:e}})],1)],1)}))],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTop,expression:"showTop"}],class:["iconfont","icon-top",t.$style.iconTop],on:{click:function(e){t.$refs.topicsContent.$el.scrollTop=0}}})],1)},jt=[],wt=(n("c5f6"),n("20d6"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wu-navbar"},[n("div",{staticClass:"wu-navbar-left",on:{click:function(e){t.$emit("leftClick")}}},[t._t("left")],2),n("div",{staticClass:"wu-navbar-content"},[t._t("default")],2),n("div",{staticClass:"wu-navbar-right",on:{click:function(e){t.$emit("rightClick")}}},[t._t("right")],2)])}),kt=[],Tt=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(m["c"]);Tt=v["a"]([m["a"]],Tt);var Ct=Tt,xt=Ct,St=(n("4dc5"),Object(O["a"])(xt,wt,kt,!1,null,null,null));St.options.__file="index.vue";var Et=St.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wu-tabs"},[t._t("default")],2)},Lt=[],$t=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type",String)],$t.prototype,"value",void 0),$t=v["a"]([m["a"]],$t);var Nt=$t,Mt=Nt,Rt=(n("6641"),Object(O["a"])(Mt,It,Lt,!1,null,null,null));Rt.options.__file="index.vue";var At=Rt.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.className,on:{click:function(e){t.$parent.$emit("input",t.id)}}},[t._t("default")],2)},Ht=[],Dt="wu-tabs-item",Ft=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(h["a"])(e,[{key:"className",get:function(){return["".concat(Dt),Object(W["a"])({},"".concat(Dt,"-selected"),this.id===this.$parent.value)]}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type",String)],Ft.prototype,"id",void 0),Ft=v["a"]([m["a"]],Ft);var Ut=Ft,qt=Ut,Bt=(n("e0e8"),Object(O["a"])(qt,Pt,Ht,!1,null,null,null));Bt.options.__file="index.vue";var Xt=Bt.exports,Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Card",{staticClass:"topics__card",attrs:{bodyBorder:""}},[n("div",{staticClass:"topics__item__header",attrs:{slot:"header"},slot:"header"},[n("div",{staticClass:"topics__item-avatar"},[n("img",{attrs:{src:t.topics.author.avatar_url}})]),n("div",{staticClass:"topics__item__header__container"},[n("div",{staticClass:"topics__item__header__container-nickname"},[t._v(t._s(t.topics.author.loginname))]),t.topics.top?n("Icon",{attrs:{type:"hot"}}):t._e(),t.topics.good?n("Icon",{attrs:{type:"good"}}):t._e(),n("div",{staticClass:"topics__item__header__container-text"},[t._v(t._s(t.topicsHeaderText))])],1)]),n("div",{staticClass:"topics__item__body",attrs:{slot:"body"},slot:"body"},[t._v(t._s(t.topics.title))]),n("div",{staticClass:"topics__item__footer",attrs:{slot:"footer"},slot:"footer"},[n("div",[n("Icon",{attrs:{type:"chakan"}}),t._v("\n      "+t._s(t.topics.visit_count)+"\n    ")],1),n("div",[n("Icon",{attrs:{type:"comment"}}),t._v("\n      "+t._s(t.topics.reply_count)+"\n    ")],1),n("div",{staticClass:"topics__item__footer-time"},[t._v(t._s(t.ago(t.topics.last_reply_at)))])])])},Wt=[],Gt=n("e8e8");function Vt(t){var e=(new Date).getTime()-new Date(t).getTime(),n=Math.floor(e/864e5),a=e%864e5,i=Math.floor(a/36e5),o=a%36e5,c=Math.floor(o/6e4),s=o%6e4,r=Math.round(s/1e3);return 0!==n?n>365?"".concat(Math.floor(n/365),"年前"):n>30?"".concat(Math.floor(n/30),"月前"):n<0?"刚刚":"".concat(n,"天前"):0!==i?"".concat(i,"小时前"):0!==c?"".concat(c,"分钟前"):0!==r?"".concat(r,"秒前"):0===r?"刚刚":void 0}function Jt(t){switch(t){case"share":return"分享";case"ask":return"问答";case"good":return"精华";case"job":return"招聘";default:return""}}var Qt={methods:{ago:Vt,getTab:Jt}},zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wu-card"},[n("div",{staticClass:"wu-card-container"},[n("div",{staticClass:"wu-card__header"},[t._t("header")],2),n("div",{class:t.bodyCls},[t._t("body")],2),n("div",{staticClass:"wu-card__footer"},[t._t("footer")],2)])])},Kt=[],Zt="wu-card__body",te=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(h["a"])(e,[{key:"bodyCls",get:function(){return[Zt,Object(W["a"])({},"".concat(Zt,"-border"),this.bodyBorder)]}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type",Boolean)],te.prototype,"bodyBorder",void 0),te=v["a"]([m["a"]],te);var ee=te,ne=ee,ae=(n("bed9"),Object(O["a"])(ne,zt,Kt,!1,null,null,null));ae.options.__file="index.vue";var ie,oe=ae.exports,ce=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(h["a"])(e,[{key:"topicsHeaderText",get:function(){return"".concat(this.ago(this.topics.create_at),"发布至").concat(this.getTab(this.topics.tab))}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type","function"===typeof(ie="undefined"!==typeof Gt["TopicInfo"]&&Gt["TopicInfo"])?ie:Object)],ce.prototype,"topics",void 0),ce=v["a"]([Object(m["a"])({components:{Card:oe,Icon:ct},mixins:[Qt]})],ce);var se=ce,re=se,ue=(n("3b2a"),Object(O["a"])(re,Yt,Wt,!1,null,null,null));ue.options.__file="index.vue";var le,pe=ue.exports,de="REQUEST__TOPICS",he="REQUEST__TOPIC__DETAILS",fe="TOPICS__CHANGE__TAB",be="CHANGE__TABBAR",ve="SET__TOPICS__SCROLL",me="SET__TOPIC__SCROLL",_e="CHANGE__COLLECT",ge=n("4bb5"),ye=function(t,e){return window.localStorage.setItem(t,e)},Oe=function(t){return window.localStorage.getItem(t)},je=function(t,e){return document.querySelector(t)[e]},we=function(t){return t.reduce(function(t,e){return t+je(e,"clientHeight")},0)},ke=function(t,e,n){return document.querySelector(t).setAttribute(e,n)},Te=document.documentElement.clientHeight,Ce=[{id:"all",value:"全部"},{id:"good",value:"精华"},{id:"share",value:"分享"},{id:"ask",value:"问答"},{id:"job",value:"招聘"}],xe=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments)),t.page=1,t.showTop=!1,t.currentScrollTop=0,t.topicTabs=Ce,t.touchStartX=0,t.touchStartY=0,t.touchEndX=0,t.contentH=0,t.calcTouch=0,t.isScroll=!1,t}return Object(h["a"])(e,[{key:"handlerScroll",value:function(t){var e=t.srcElement,n=e.clientHeight,a=e.scrollTop,i=e.scrollHeight;this.currentScrollTop=a,this.isScroll=!0;var o=i-a===n;this.showTop=a>400,o&&this.topics.length&&++this.page&&this.requestTopics({tab:this.topicsTab,page:this.page})}},{key:"handlerTouchStart",value:function(t){var e=t.touches,n=e[0],a=n.pageX,i=n.pageY;this.touchStartX=a,this.touchStartY=i}},{key:"handlerTouchmove",value:function(t){var e=t.touches,n=e[0],a=n.pageX,i=n.pageY;this.touchEndX=a;var o=i,c=this.touchStartY-o;Math.abs(c)<50&&(this.isScroll=!1),this.isScroll||Math.abs(this.calcTouchDist)<15||(this.calcTouch=1+~(this.touchStartX-this.touchEndX))}},{key:"handlerTouchend",value:function(){var t=window.screen.width/3,e=Math.abs(this.calcTouch)>t;e&&this.touchEndX>0?this.touchSwitchTab():this.resetTouch(),this.calcTouch=0,this.touchStartY=0}},{key:"touchSwitchTab",value:function(){var t;return 0===this.tabIndex&&this.calcTouchDist<0?this.resetTouch():this.tabIndex===Ce.length-1&&this.calcTouchDist>0?this.resetTouch():(t=this.calcTouchDist>0?Ce[this.tabIndex+1].id:Ce[this.tabIndex-1].id,this.topicsTab=t,void this.resetTouch())}},{key:"resetTouch",value:function(){this.calcTouch=0}},{key:"mounted",value:function(){!this.topics.length&&this.requestTopics(),this.init(),this.$refs.topicsContent.$el.scrollTop=this.scroll}},{key:"init",value:function(){var t=[".wu-tabbar",".wu-navbar",".wu-tabs"],e=Te-we(t);this.contentH=e}},{key:"beforeDestroy",value:function(){this.setTopicsScroll(this.currentScrollTop)}},{key:"calcTouchDist",get:function(){return this.touchStartX-this.touchEndX}},{key:"topicsTab",get:function(){return this.currentTab},set:function(t){this.page=1,this.topicsChangeTab(t),this.requestTopics({tab:t,page:1})}},{key:"styContent",get:function(){return{height:"".concat(this.contentH,"px"),transform:"translateX(".concat(this.calcTouch,"px)")}}},{key:"tabIndex",get:function(){var t=this;return Ce.findIndex(function(e){return e.id===t.topicsTab})}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(ge["a"])(de),v["b"]("design:type",Function)],xe.prototype,"requestTopics",void 0),v["a"]([Object(ge["a"])(fe),v["b"]("design:type",Function)],xe.prototype,"topicsChangeTab",void 0),v["a"]([Object(ge["a"])(ve),v["b"]("design:type",Function)],xe.prototype,"setTopicsScroll",void 0),v["a"]([Object(ge["b"])(function(t){return t.topics.topics}),v["b"]("design:type","function"===typeof(le="undefined"!==typeof Array&&Array)?le:Object)],xe.prototype,"topics",void 0),v["a"]([Object(ge["b"])(function(t){return t.topics.topicsScroll}),v["b"]("design:type",Number)],xe.prototype,"scroll",void 0),v["a"]([Object(ge["b"])(function(t){return t.topics.currentTab}),v["b"]("design:type",String)],xe.prototype,"currentTab",void 0),xe=v["a"]([Object(m["a"])({components:{TabContainer:ht,TabContainerItem:yt,NavBar:Et,Tabs:At,TabsItem:Xt,TopicsCard:pe},inject:["path"]})],xe);var Se=xe,Ee=Se,Ie=n("e5b2");function Le(t){this["$style"]=Ie["default"].locals||Ie["default"]}var $e=Object(O["a"])(Ee,Ot,jt,!1,Le,null,null);$e.options.__file="index.vue";var Ne=$e.exports,Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wu-edit"},[n("nav-bar",{on:{rightClick:t.handlerSubmit}},[t._v("新建主题\n    "),n("span",{attrs:{slot:"right"},slot:"right"},[t._v("发布")])]),n("div",{staticClass:"wu-edit-container"},[n("div",{staticClass:"wu-edit-container__title"},[n("icon",{attrs:{type:"title"}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"标题"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})],1),n("div",{staticClass:"wu-edit-container__content"},[n("icon",{attrs:{type:"content"}}),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{cols:"30",rows:"5",placeholder:"请输入内容"},domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})],1),n("div",{staticClass:"wu-edit-container__tab"},[n("icon",{attrs:{type:"classify"}}),n("span",{staticClass:"wu-edit-container__tab-title"},[t._v("选择分类")])],1),n("Labels",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("label-item",{attrs:{id:"share",label:"分享"}}),n("label-item",{attrs:{id:"ask",label:"问答"}}),n("label-item",{attrs:{id:"job",label:"招聘"}}),n("label-item",{attrs:{id:"dev",label:"开发"}})],1)],1)],1)},Re=[],Ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wu-label"},[t._t("default")],2)},Pe=[],He=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type",String)],He.prototype,"value",void 0),He=v["a"]([m["a"]],He);var De=He,Fe=De,Ue=Object(O["a"])(Fe,Ae,Pe,!1,null,null,null);Ue.options.__file="index.vue";var qe=Ue.exports,Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.labelItemCls,on:{click:function(e){t.$parent.$emit("input",t.id)}}},[n("span",[t._v(t._s(t.label))])])},Xe=[],Ye="wu-label-item",We=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(h["a"])(e,[{key:"labelItemCls",get:function(){return["".concat(Ye),Object(W["a"])({},"".concat(Ye,"-selected"),this.$parent.value===this.id)]}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type",String)],We.prototype,"id",void 0),v["a"]([Object(m["b"])(),v["b"]("design:type",String)],We.prototype,"label",void 0),We=v["a"]([m["a"]],We);var Ge=We,Ve=Ge,Je=(n("c5c6"),Object(O["a"])(Ve,Be,Xe,!1,null,null,null));Je.options.__file="index.vue";var Qe=Je.exports,ze=(n("f751"),n("bc3a")),Ke=n.n(ze),Ze="https://cnodejs.org/api/v1/",tn={},en=["Null","Array","String","Object","Number","Boolean","Function","Undefined"];en.map(function(t){return tn["is".concat(t)]=function(e){return toString.call(e)==="[object ".concat(t,"]")}});var nn=tn,an=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"toast"}},[t.show?n("div",{class:t.toast},[t.isLoading?n("div",{class:t.iconCls}):t._e(),n("div",{staticClass:"wu-toast-content"},[t._v("\n      "+t._s(t.message)+"\n    ")])]):t._e()])},on=[],cn="wu-toast",sn=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments)),t.show=!0,t}return Object(h["a"])(e,[{key:"mounted",value:function(){var t=this;this.duration>0&&setTimeout(function(){t.show=!t.show},this.duration)}},{key:"iconCls",get:function(){return["iconfont",Object(W["a"])({},"loading",this.isLoading)]}},{key:"toast",get:function(){return["".concat(cn),"".concat(cn,"-").concat(this.position)]}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type",String)],sn.prototype,"message",void 0),v["a"]([Object(m["b"])({default:3e3}),v["b"]("design:type",Number)],sn.prototype,"duration",void 0),v["a"]([Object(m["b"])({default:!1}),v["b"]("design:type",Boolean)],sn.prototype,"isLoading",void 0),v["a"]([Object(m["b"])({default:"center"}),v["b"]("design:type",String)],sn.prototype,"position",void 0),sn=v["a"]([Object(m["a"])({components:{Icon:ct}})],sn);var rn=sn,un=rn,ln=(n("5f5b"),Object(O["a"])(un,an,on,!1,null,null,null));ln.options.__file="toast.vue";var pn,dn,hn,fn,bn=ln.exports,vn=c["default"].extend(bn),mn=document.createElement("div"),_n=function(t){return nn.isObject(t)?t:{message:t}},gn=function(){function t(){Object(u["a"])(this,t),this.queue=[]}return Object(h["a"])(t,[{key:"createToast",value:function(t){var e=_n(t),n=new vn({el:mn,propsData:e});return document.body.appendChild(n.$el),this.queue.push(n),this.queue[this.queue.length-1]}},{key:"show",value:function(t){return this.createToast(t)}},{key:"hide",value:function(){this.queue[this.queue.length-1].show=!1,this.queue.pop()}},{key:"clearAll",value:function(){this.queue.map(function(t){return t.show=!1}),this.queue=[]}},{key:"loading",value:function(t){return this.createToast({isLoading:!0,message:t,duration:0})}}]),t}(),yn=new gn,On=n("2f62"),jn=(n("96cf"),n("3040")),wn={currentTab:"all",tabbar:"home",topics:[],openTopics:[],topicsScroll:0},kn=(pn={},Object(W["a"])(pn,de,function(){var t=Object(jn["a"])(regeneratorRuntime.mark(function t(e){var n,a,i,o,c,s,r,u=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,a=u.length>1&&void 0!==u[1]?u[1]:{},i=a.tab,o=void 0===i?"all":i,c=a.page,s=void 0===c?1:c,t.next=5,zn(o,s);case 5:r=t.sent,n(de,r);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),Object(W["a"])(pn,fe,function(t,e){var n=t.commit;n(fe,e)}),Object(W["a"])(pn,be,function(t,e){var n=t.commit;n(be,e)}),Object(W["a"])(pn,he,function(){var t=Object(jn["a"])(regeneratorRuntime.mark(function t(e,n){var a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,Kn(n);case 3:i=t.sent,i=Object.assign({},i,{scroll:0}),a(he,i);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),Object(W["a"])(pn,ve,function(t,e){var n=t.commit;n(ve,e)}),Object(W["a"])(pn,me,function(t,e){var n=t.commit;n(me,e)}),Object(W["a"])(pn,_e,function(t,e){var n=t.commit;n(_e,e)}),pn),Tn=(dn={},Object(W["a"])(dn,de,function(t,e){t.topics=t.topics.concat(e)}),Object(W["a"])(dn,fe,function(t,e){t.currentTab=e,t.topics=[],t.topicsScroll=0}),Object(W["a"])(dn,be,function(t,e){t.tabbar=e}),Object(W["a"])(dn,he,function(t,e){var n=!1;t.openTopics.map(function(t){return t.id===e.id&&(n=!0)&&(t.replies=e.replies)}),!n&&t.openTopics.push(e)}),Object(W["a"])(dn,ve,function(t,e){t.topicsScroll=e}),Object(W["a"])(dn,me,function(t,e){t.openTopics.map(function(t){t.id===e.id&&(t.scroll=e.scroll)})}),Object(W["a"])(dn,_e,function(t,e){e.result&&t.openTopics.map(function(t){return t.id===e.topic&&(t.is_collect=!t.is_collect)})}),dn),Cn={},xn=(n("55dd"),function(t){return Jn("user/".concat(t)).then(function(t){return t.data.data})}),Sn=function(t){return Jn("topic_collect/".concat(t)).then(function(t){return t.data.data})},En=function(t){return Qn("topic_collect/collect",t).then(function(t){return t.data.success})},In=function(t){return Qn("topic_collect/de_collect",t).then(function(t){return t.data.success})},Ln=function(t){return Qn("accesstoken",{accesstoken:t}).then(function(t){return t.data})},$n=function(t){return Jn("messages",{accesstoken:t}).then(function(t){var e=t.data.data,n=e.has_read_messages,a=e.hasnot_read_messages;return a.concat(n)})},Nn=function(){return Qn("message/mark_all").then(function(t){return t.data})},Mn="GET__USER__INFO",Rn="CHANGE__USER__TAB",An="UPDATE__USER__SCROLL",Pn="USER__LOGIN",Hn="USER__LOGOUT",Dn="GET__MY__MESSAGE",Fn="GET__USER__COLLECT",Un={localToken:Oe("accessToken"),accessToken:"",users:[],tab:"replies",scroll:0,loginname:"",avatar_url:"",id:"",message:[]},qn=(hn={},Object(W["a"])(hn,Mn,function(){var t=Object(jn["a"])(regeneratorRuntime.mark(function t(e,n){var a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,xn(n);case 3:i=t.sent,i["collect"]=[],a(Mn,i);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),Object(W["a"])(hn,Rn,function(t,e){var n=t.commit;n(Rn,e)}),Object(W["a"])(hn,An,function(t,e){var n=t.commit;n(An,e)}),Object(W["a"])(hn,Pn,function(){var t=Object(jn["a"])(regeneratorRuntime.mark(function t(e,n){var a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,$n(n.accessToken);case 3:i=t.sent,n.message=i,a(Pn,n);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),Object(W["a"])(hn,Hn,function(t){var e=t.commit;e(Hn)}),Object(W["a"])(hn,Dn,function(){var t=Object(jn["a"])(regeneratorRuntime.mark(function t(e,n){var a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,$n(n);case 3:i=t.sent,a(Dn,i);case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),Object(W["a"])(hn,Fn,function(){var t=Object(jn["a"])(regeneratorRuntime.mark(function t(e,n){var a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,t.next=3,Sn(n);case 3:i=t.sent,i.sort(Yn),Object.assign(i,{loginname:n}),a(Fn,i);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),hn),Bn=(fn={},Object(W["a"])(fn,Mn,function(t,e){e.recent_replies.sort(Yn),e.recent_topics.sort(Yn),t.tab="replies",t.scroll=0,t.users.push(e)}),Object(W["a"])(fn,Rn,function(t,e){t.tab=e}),Object(W["a"])(fn,An,function(t,e){t.scroll=e}),Object(W["a"])(fn,Pn,function(t,e){Object.assign(t,e),ye("accessToken",e.accessToken),ye("loginName",e.loginname)}),Object(W["a"])(fn,Hn,function(t){t.accessToken="",t.localToken="",t.avatar_url="",t.id="",t.loginname="",t.message=[],ye("accessToken",""),ye("loginName","")}),Object(W["a"])(fn,_e,function(){var t=Object(jn["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Sn(e.loginname||Oe("loginName"));case 2:n=t.sent,e.users.length&&(e.users[0]["collect"]=n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),Object(W["a"])(fn,Dn,function(t,e){t.message=e}),Object(W["a"])(fn,Fn,function(t,e){t.users.map(function(t){return t.loginname===e.loginname&&(t.collect=e)})}),fn),Xn={token:function(t){return t.accessToken},localToken:function(t){return t.localToken}},Yn=function(t,e){return+new Date(e.last_reply_at)-+new Date(t.last_reply_at)};c["default"].use(On["a"]);var Wn=new On["a"].Store({modules:{topics:a,user:i}}),Gn=function(){return Wn.getters.localToken||Wn.getters.token},Vn=Ke.a.create({baseURL:Ze,timeout:0,headers:{"X-Requested-With":"XMLHttpRequest"},maxContentLength:2e3});Vn.interceptors.request.use(function(t){var e=!!~t.url.indexOf("topics"),n=!!~t.url.indexOf("accesstoken"),a=t.method;return"get"===a&&!t.params&&Gn()&&(t.params=Object.assign({},t.params,{accesstoken:Gn()})),"post"!==a||n||(t.data=Object.assign({},t.data,{accesstoken:Gn()})),e&&"post"===a?yn.loading("发布中..."):yn.loading("加载中..."),t},function(t){return Promise.reject(t)}),Vn.interceptors.response.use(function(t){return yn.hide(),t},function(t){var e=t.response.data&&t.response.data.error_msg;yn.hide(),yn.show({message:e,duration:5e3})});var Jn=function(t,e){return Vn.get(t,{params:e})},Qn=function(t,e){return Vn.post(t,e)},zn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return Jn("topics",{tab:t,page:e,limit:n}).then(function(t){return t.data.data})},Kn=function(t){return Jn("topic/".concat(t)).then(function(t){return t.data.data})},Zn=function(t){return Qn("topics",t).then(function(t){return t.data})},ta=function(t){var e=t.content,n=t.topic_id;return Qn("topic/".concat(n,"/replies"),{content:e}).then(function(t){return t.data})},ea=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments)),t.tab="dev",t.title="",t.content="",t}return Object(h["a"])(e,[{key:"handlerSubmit",value:function(){var t=this,e=this.title,n=this.tab,a=this.content,i=this.accesstoken,o=[];if(!i)return yn.show("请登录");e||o.push("请输入标题"),a||o.push("请输入内容"),o.length&&yn.show(o.join()),e&&a&&i&&Zn({title:e,tab:n,content:a,accesstoken:i}).then(function(e){return e.success&&t.$router.push({path:"/details/".concat(e.topic_id)})})}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(ge["b"])(function(t){return t.user.accessToken}),v["b"]("design:type",String)],ea.prototype,"accesstoken",void 0),ea=v["a"]([Object(m["a"])({components:{NavBar:Et,Icon:ct,Labels:qe,LabelItem:Qe}})],ea);var na=ea,aa=na,ia=(n("5e3f"),Object(O["a"])(aa,Me,Re,!1,null,null,null));ia.options.__file="index.vue";var oa,ca=ia.exports,sa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wu-login"},[t.user.localToken?[t.user.loginname?n("user",{attrs:{loginname:t.user.loginname,my:"我"}}):t._e()]:[n("nav-bar",[t._v("登录")]),n("div",{staticClass:"wu-login-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.accessToken,expression:"accessToken"}],attrs:{type:"text",placeholder:"请输入accessToken"},domProps:{value:t.accessToken},on:{input:function(e){e.target.composing||(t.accessToken=e.target.value)}}}),n("button",{on:{click:t.handlerLogin}},[t._v("登录")])])]],2)},ra=[],ua=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.userInfo.loginname?n("div",{staticClass:"wu-user"},[n("nav-bar",{on:{leftClick:function(e){t.$router.go(-1)},rightClick:t.logout}},[t.my?t._e():n("icon",{attrs:{slot:"left",type:"left"},slot:"left"}),t.my?n("span",{staticClass:"wu-user-logout",attrs:{slot:"right"},slot:"right"},[t._v("注销")]):t._e(),t._v("\n    "+t._s(t.my?t.my:"用户信息")+"\n  ")],1),n("div",{staticClass:"wu-user-container"},[n("div",{staticClass:"wu-user-container__header"},[n("img",{attrs:{src:t.userInfo.avatar_url,alt:""}}),n("div",{staticClass:"wu-user-container__header-info"},[n("div",{staticClass:"wu-user-container__header-nickname"},[t._v(t._s(t.userInfo.loginname))]),n("div",{staticClass:"wu-user-container__header-score"},[t._v(t._s(t.userInfo.score)+"积分")])]),n("span",{staticClass:"wu-user-container__header-time"},[t._v("注册时间"+t._s(t.ago(t.userInfo.create_at))+" ")])]),n("tabs",{model:{value:t.userTab,callback:function(e){t.userTab=e},expression:"userTab"}},[n("tabs-item",{attrs:{id:"replies"}},[t._v("参与的话题")]),n("tabs-item",{attrs:{id:"topics"}},[t._v("发布的话题")]),n("tabs-item",{attrs:{id:"collect"}},[t._v("收藏")])],1),n("tab-container",{ref:"content",on:{scroll:t.handerScroll},model:{value:t.userTab,callback:function(e){t.userTab=e},expression:"userTab"}},[n("tab-container-item",{staticClass:"wu-user-replies",attrs:{id:"replies"}},[t._l(t.userInfo.recent_replies,function(t,e){return n("topics-item",{key:e,attrs:{topics:t}})}),t.userInfo.recent_replies.length?t._e():n("div",{staticClass:"user__no-data"},[n("icon",{attrs:{type:"no-data"}})],1)],2),n("tab-container-item",{staticClass:"wu-user-topics",attrs:{id:"topics"}},[t._l(t.userInfo.recent_topics,function(t,e){return n("topics-item",{key:e,attrs:{topics:t}})}),t.userInfo.recent_topics.length?t._e():n("div",{staticClass:"user__no-data"},[n("icon",{attrs:{type:"no-data"}})],1)],2),"collect"===t.userTab?n("tab-container-item",{attrs:{id:"collect"}},[t.userInfo.collect.length?t._e():n("div",{staticClass:"user__no-data"},[n("icon",{attrs:{type:"no-data"}})],1),t.userInfo.collect.length?n("div",{staticClass:"wu-user__collect"},t._l(t.userInfo.collect,function(e,a){return n("router-link",{key:a,attrs:{to:t.path.details(e.id)}},[n("topics-card",{attrs:{topics:e}})],1)})):t._e()]):t._e()],1)],1)],1):t._e()},la=[],pa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-link",{attrs:{to:t.path.details(t.topics.id)}},[n("div",{staticClass:"wu-topics-item"},[n("div",{staticClass:"wu-topics-item__container"},[n("img",{attrs:{src:t.topics.author.avatar_url}}),n("div",{staticClass:"wu-topics-item__container__body"},[n("div",{staticClass:"wu-topics-item__container__body-title"},[t._v(t._s(t.topics.title))]),n("div",{staticClass:"wu-topics-item__container__body-author"},[t._v(t._s(t.topics.author.loginname)+"\n          "),n("span",{staticClass:"wu-topics-item__container__body-time"},[t._v(t._s(t.ago(t.topics.last_reply_at)))])])])])])])},da=[],ha=n("6f07"),fa=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type","function"===typeof(oa="undefined"!==typeof ha["RecentInfo"]&&ha["RecentInfo"])?oa:Object)],fa.prototype,"topics",void 0),fa=v["a"]([Object(m["a"])({mixins:[Qt],inject:["path"]})],fa);var ba=fa,va=ba,ma=(n("1cc0"),Object(O["a"])(va,pa,da,!1,null,null,null));ma.options.__file="index.vue";var _a,ga,ya=ma.exports,Oa=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments)),t.currentScrollTop=0,t}return Object(h["a"])(e,[{key:"mounted",value:function(){var t=Object(jn["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=!this.userInfo.loginname,!t.t0){t.next=4;break}return t.next=4,this.getUserInfo(this.loginname);case 4:this.init(),this.$refs.content.$el.scrollTop=this.user.scroll;case 6:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"init",value:function(){this.$refs.content.$el.style.height="".concat(this.userContainerHeight(),"px")}},{key:"userContainerHeight",value:function(){var t=[".wu-navbar",".wu-user-container__header",".wu-tabs"],e=[".wu-user .wu-navbar",".wu-user-container__header",".wu-user .wu-tabs",".wu-tabbar"],n=this.my?we(e):we(t);return Te-n}},{key:"handerScroll",value:function(t){var e=t.srcElement,n=(e.clientHeight,e.scrollTop);e.scrollHeight;this.currentScrollTop=n}},{key:"destroyed",value:function(){this.updateUserScroll(this.currentScrollTop)}},{key:"userInfo",get:function(){var t=this;return this.users.filter(function(e){return e.loginname===t.loginname})[0]||{}}},{key:"userTab",get:function(){return this.user.tab},set:function(t){this.userTab!==t&&("collect"===t&&!this.userInfo.collect.length&&this.getUserCollect(this.loginname),this.changeUserTab(t))}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type",String)],Oa.prototype,"loginname",void 0),v["a"]([Object(m["b"])(),v["b"]("design:type",String)],Oa.prototype,"my",void 0),v["a"]([Object(ge["a"])(Mn),v["b"]("design:type",Function)],Oa.prototype,"getUserInfo",void 0),v["a"]([Object(ge["a"])(Rn),v["b"]("design:type",Function)],Oa.prototype,"changeUserTab",void 0),v["a"]([Object(ge["a"])(An),v["b"]("design:type",Function)],Oa.prototype,"updateUserScroll",void 0),v["a"]([Object(ge["a"])(Hn),v["b"]("design:type",Function)],Oa.prototype,"logout",void 0),v["a"]([Object(ge["a"])(Fn),v["b"]("design:type",Function)],Oa.prototype,"getUserCollect",void 0),v["a"]([Object(ge["b"])(function(t){return t.user.users}),v["b"]("design:type","function"===typeof(_a="undefined"!==typeof Array&&Array)?_a:Object)],Oa.prototype,"users",void 0),v["a"]([Object(ge["b"])(function(t){return t.user}),v["b"]("design:type","function"===typeof(ga="undefined"!==typeof ha["UserState"]&&ha["UserState"])?ga:Object)],Oa.prototype,"user",void 0),Oa=v["a"]([Object(m["a"])({components:{NavBar:Et,Icon:ct,Tabs:At,TabsItem:Xt,TabContainer:ht,TabContainerItem:yt,TopicsItem:ya,TopicsCard:pe},mixins:[Qt],inject:["path"]})],Oa);var ja=Oa,wa=ja,ka=(n("51b3"),Object(O["a"])(wa,ua,la,!1,null,null,null));ka.options.__file="index.vue";var Ta,Ca=ka.exports,xa=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments)),t.accessToken="",t}return Object(h["a"])(e,[{key:"handlerLogin",value:function(){var t=this;this.accessToken?Ln(this.accessToken).then(function(e){return e.success&&t.userLogin(Object.assign({},e,{accessToken:t.accessToken,localToken:t.accessToken}))}):yn.show("请输入用户令牌")}},{key:"mounted",value:function(){var t=this,e=this.user.localToken;!this.user.accessToken&&e&&Ln(e).then(function(n){return n.success&&t.userLogin(Object.assign({},n,{accessToken:e,localToken:e}))})}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(ge["a"])(Pn),v["b"]("design:type",Function)],xa.prototype,"userLogin",void 0),v["a"]([Object(ge["b"])(function(t){return t.user}),v["b"]("design:type","function"===typeof(Ta="undefined"!==typeof ha["UserState"]&&ha["UserState"])?Ta:Object)],xa.prototype,"user",void 0),xa=v["a"]([Object(m["a"])({components:{NavBar:Et,User:Ca}})],xa);var Sa=xa,Ea=Sa,Ia=(n("5442"),Object(O["a"])(Ea,sa,ra,!1,null,null,null));Ia.options.__file="index.vue";var La,$a=Ia.exports,Na=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wu-message"},[n("nav-bar",[t._v("消息中心")]),n("div",{staticClass:"wu-message-container"},[t.user.localToken?[t.user.message.length?t._e():n("div",{staticClass:"wu-message__no-data"},[n("icon",{attrs:{type:"no-data"}})],1),t._l(t.user.message,function(t,e){return n("message-item",{key:e,attrs:{message:t}})})]:[n("span",{staticClass:"wu-message-notLogin"},[t._v("请登录")])]],2)],1)},Ma=[],Ra=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wu-messageItem"},[n("div",{staticClass:"wu-messageItem-container"},[n("img",{staticClass:"wu-messageItem-container-avatar",attrs:{src:t.message.author.avatar_url}}),n("div",{staticClass:"wu-messageItem-container-content"},[n("router-link",{attrs:{to:t.path.user(t.message.author.loginname)}},[n("span",[t._v(t._s(t.message.author.loginname))])]),t._v(" "+t._s("reply"===t.message.type?"回复了你的话题":"在话题")+"\n      "),n("router-link",{attrs:{to:t.path.details(t.message.topic.id)}},[n("span",[t._v(t._s(t.message.topic.title))])]),t._v(" "+t._s("at"===t.message.type?"中@了你":"")+"\n      "),n("div",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"wu-messageItem-container-reply",domProps:{innerHTML:t._s(t.message.reply.content)}}),n("div",{staticClass:"wu-messageItem-container-time"},[t._v(t._s(t.ago(t.message.create_at)))])],1)])])},Aa=[],Pa=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type","function"===typeof(La="undefined"!==typeof ha["MessageInfo"]&&ha["MessageInfo"])?La:Object)],Pa.prototype,"message",void 0),Pa=v["a"]([Object(m["a"])({mixins:[Qt],inject:["path"]})],Pa);var Ha=Pa,Da=Ha,Fa=(n("8331"),Object(O["a"])(Da,Ra,Aa,!1,null,null,null));Fa.options.__file="message-item.vue";var Ua,qa=Fa.exports,Ba=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(h["a"])(e,[{key:"mounted",value:function(){this.init()}},{key:"init",value:function(){var t=Te-we([".wu-message .wu-navbar",".wu-tabbar"]);ke(".wu-message-container","style","height:".concat(t,"px"));var e=this.user.localToken||this.user.accessToken;e&&!this.user.message.length&&this.getMessage(e),e&&this.user.message.length&&Nn()}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(ge["b"])(function(t){return t.user}),v["b"]("design:type","function"===typeof(Ua="undefined"!==typeof ha["UserState"]&&ha["UserState"])?Ua:Object)],Ba.prototype,"user",void 0),v["a"]([Object(ge["a"])(Dn),v["b"]("design:type",Function)],Ba.prototype,"getMessage",void 0),Ba=v["a"]([Object(m["a"])({components:{NavBar:Et,Icon:ct,MessageItem:qa}})],Ba);var Xa=Ba,Ya=Xa,Wa=(n("16c5"),Object(O["a"])(Ya,Na,Ma,!1,null,null,null));Wa.options.__file="index.vue";var Ga=Wa.exports,Va=[{id:"home",value:"首页"},{id:"edit",value:"发布"},{id:"message",value:"消息"},{id:"user",value:"我的"}],Ja=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments)),t.tabbars=Va,t}return Object(h["a"])(e,[{key:"tabbar",get:function(){return this._tabbar},set:function(t){this.tabbar!==t&&this.changeTabBar(t)}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(ge["a"])(be),v["b"]("design:type",Function)],Ja.prototype,"changeTabBar",void 0),v["a"]([Object(ge["b"])(function(t){return t.topics.tabbar}),v["b"]("design:type",String)],Ja.prototype,"_tabbar",void 0),Ja=v["a"]([Object(m["a"])({components:{TabBar:B,TabBarTab:K,Icon:ct,TabContainer:ht,TabContainerItem:yt,Edit:ca,Login:$a,Message:Ga,Home:Ne},inject:["path"]})],Ja);var Qa=Ja,za=Qa,Ka=Object(O["a"])(za,M,R,!1,null,null,null);Ka.options.__file="index.vue";var Za,ti=Ka.exports,ei=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.details.author?n("div",{staticClass:"wu-topics-details"},[n("nav-bar",{staticClass:"wu-topics-details__navbar",on:{leftClick:function(e){t.$router.go(-1)}}},[n("Icon",{attrs:{slot:"left",type:"left"},slot:"left"}),t._v("主题详情\n  ")],1),n("div",{ref:"details",staticClass:"wu-topics-details__container",on:{scroll:t.handlerScroll}},[n("div",{staticClass:"wu-topics-details__title"},[t._v(t._s(t.details.title))]),n("div",{staticClass:"wu-topics-details__header"},[n("img",{staticClass:"wu-topics-details__header-avatar",attrs:{src:t.details.author.avatar_url,alt:"avatar"}}),n("span",{staticClass:"wu-topics-details__header-nickname"},[n("router-link",{attrs:{to:t.path.user(t.details.author.loginname)}},[t._v(t._s(t.details.author.loginname))])],1),n("span",{staticClass:"wu-topics-details__header-text"},[t._v(t._s("发布于"+t.ago(t.details.create_at)))])]),n("div",{staticClass:"wu-topics-details__body"},[n("div",{staticClass:"wu-topics-details__body-left"},[n("span",[t._v("阅读数："+t._s(t.details.visit_count))]),n("span",[t._v("回复数："+t._s(t.details.reply_count))])]),n("span",{class:t.collectCls,on:{click:t.handlerCollect}},[t._v(t._s(t.details.is_collect?"取消收藏":"收藏"))])]),n("div",{directives:[{name:"highlight",rawName:"v-highlight"}],staticClass:"wu-topics-details__content",domProps:{innerHTML:t._s(t.details.content)}}),n("div",{staticClass:"wu-topics-details__replies"},[t.user.accessToken||t.user.localToken?n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{maxlength:"150",placeholder:"我来说一句"},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),n("div",{staticClass:"wu-topics-details-submit"},[n("span",{on:{click:t.handlerSubmit}},[t._v("评论")])])]):n("div",{staticClass:"wu-topics-details__notLogin"},[t._v("请登录后再来评论")])]),t.replies.length?n("replies",{attrs:{replies:t.replies}}):n("div",{staticClass:"wu-topics-details__notReplies"},[t._v("还没有评论，快来抢沙发")])],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTop,expression:"showTop"}],staticClass:"iconfont icon-top",on:{click:function(e){t.$refs.details.scrollTop=0}}})],1):t._e()},ni=[],ai=n("c93e"),ii=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wu-topic-details-comment"},[n("div",{staticClass:"wu-topic-details-comment__header"},[t._v("共有"+t._s(t.replies.length)+"条留言")]),t._l(t.replies,function(e,a){return n("replie",{key:a,attrs:{replie:e}},[t._v(t._s(a+1))])})],2)},oi=[],ci=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("card",{staticClass:"wu-topic-details__replie"},[n("div",{staticClass:"wu-topic-details__replie__header",attrs:{slot:"header"},slot:"header"},[n("img",{staticClass:"wu-topic-details__replie-avatar",attrs:{src:t.replie.author.avatar_url}}),n("span",{staticClass:"wu-topic-details__replie-nickname"},[n("router-link",{attrs:{to:t.path.user(t.replie.author.loginname)}},[t._v(t._s(t.replie.author.loginname))])],1),t.replie.is_author?n("span",{staticClass:"wu-topic-details__replie-author"},[t._v("作者")]):t._e(),n("span",{staticClass:"wu-topic-details__replie-floor"},[t._t("default"),t._v("楼")],2)]),n("div",{directives:[{name:"highlight",rawName:"v-highlight"}],attrs:{slot:"body"},domProps:{innerHTML:t._s(t.replie.content)},slot:"body"}),n("div",{staticClass:"wu-topic-details__replie__footer",attrs:{slot:"footer"},slot:"footer"},[n("span",{staticClass:"wu-topic-details__replie-time"},[t._v(t._s(t.ago(t.replie.create_at)))]),t.replie.ups.length?n("span",{staticClass:"wu-topic-details__replie-uped"},[n("icon",{attrs:{type:"like"}}),t._v(t._s(t.replie.ups.length)+"\n    ")],1):t._e()])])},si=[],ri=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type","function"===typeof(Za="undefined"!==typeof Gt["RepliesInfo"]&&Gt["RepliesInfo"])?Za:Object)],ri.prototype,"replie",void 0),ri=v["a"]([Object(m["a"])({components:{Card:oe,Icon:ct},mixins:[Qt],inject:["path"]})],ri);var ui=ri,li=ui,pi=(n("7ea8"),Object(O["a"])(li,ci,si,!1,null,null,null));pi.options.__file="replie.vue";var di,hi=pi.exports,fi=function(t){function e(){return Object(u["a"])(this,e),Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments))}return Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type","function"===typeof(di="undefined"!==typeof Array&&Array)?di:Object)],fi.prototype,"replies",void 0),fi=v["a"]([Object(m["a"])({components:{Replie:hi}})],fi);var bi=fi,vi=bi,mi=(n("8a8f"),Object(O["a"])(vi,ii,oi,!1,null,null,null));mi.options.__file="index.vue";var _i,gi,yi=mi.exports,Oi="wu-topics-details",ji=function(t){function e(){var t;return Object(u["a"])(this,e),t=Object(f["a"])(this,Object(b["a"])(e).apply(this,arguments)),t.scroll=0,t.showTop=!1,t.comment="",t}return Object(h["a"])(e,[{key:"mounted",value:function(){var t=Object(jn["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(t.t0=!this.details.author,!t.t0){t.next=4;break}return t.next=4,this.getTopicDetails(this.topic);case 4:this.details.scroll>200&&(this.showTop=!0),e=Te-je(".wu-navbar","clientHeight"),ke(".".concat(Oi,"__container"),"style","height:".concat(e,"px")),this.$refs.details.scrollTop=this.details.scroll;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"handlerScroll",value:function(t){var e=t.srcElement.scrollTop;this.scroll=e,this.showTop=e>200}},{key:"handlerCollect",value:function(){var t=this;this.user.localToken?this.collect().then(function(e){t.changeCollect({topic:t.topic,result:e})}):yn.show("请登录")}},{key:"collect",value:function(){var t=this.user.accessToken,e=this.details.id,n={accesstoken:t,topic_id:e};return this.details.is_collect?In(n):En(n)}},{key:"handlerSubmit",value:function(){var t=this,e=this.comment,n=this.topic,a=this.getTopicDetails;e?ta({content:e,topic_id:n}).then(function(){var e=Object(jn["a"])(regeneratorRuntime.mark(function e(i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i.success&&yn.show("评论成功"),t.comment="",e.next=4,a(n);case 4:t.$refs.details.scrollTop=t.$refs.details.scrollHeight;case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()):yn.show("评论内容不能为空")}},{key:"beforeDestroy",value:function(){var t=this.topic,e=this.scroll;this.setTopicScroll({id:t,scroll:e})}},{key:"details",get:function(){var t=this;return this.openTopics.filter(function(e){return e.id===t.topic})[0]||{}}},{key:"replies",get:function(){var t=this;return this.details.replies.reduce(function(e,n){return t.details.author.loginname===n.author.loginname?e.push(Object(ai["a"])({is_author:!0},n)):e.push(n),e},[])}},{key:"collectCls",get:function(){return["".concat(Oi,"__body-collect"),Object(W["a"])({},"".concat(Oi,"__body-cancelCollect"),this.details.is_collect)]}}]),Object(d["a"])(e,t),e}(m["c"]);v["a"]([Object(m["b"])(),v["b"]("design:type",String)],ji.prototype,"topic",void 0),v["a"]([Object(ge["b"])(function(t){return t.topics.openTopics}),v["b"]("design:type","function"===typeof(_i="undefined"!==typeof Array&&Array)?_i:Object)],ji.prototype,"openTopics",void 0),v["a"]([Object(ge["b"])(function(t){return t.user}),v["b"]("design:type","function"===typeof(gi="undefined"!==typeof ha["UserState"]&&ha["UserState"])?gi:Object)],ji.prototype,"user",void 0),v["a"]([Object(ge["a"])(he),v["b"]("design:type",Function)],ji.prototype,"getTopicDetails",void 0),v["a"]([Object(ge["a"])(me),v["b"]("design:type",Function)],ji.prototype,"setTopicScroll",void 0),v["a"]([Object(ge["a"])(_e),v["b"]("design:type",Function)],ji.prototype,"changeCollect",void 0),ji=v["a"]([Object(m["a"])({components:{NavBar:Et,Icon:ct,Replies:yi},mixins:[Qt],inject:["path"]})],ji);var wi=ji,ki=wi,Ti=(n("6aec"),Object(O["a"])(ki,ei,ni,!1,null,null,null));Ti.options.__file="index.vue";var Ci=Ti.exports;c["default"].use(N["a"]);var xi=new N["a"]({routes:[{path:"/",name:"Home",component:ti},{path:"/details/:topic",name:"topicDetails",component:Ci,props:!0},{path:"/user/:loginname",name:"user",component:Ca,props:!0}]}),Si=function(){return"/"},Ei=function(t){return"/details/".concat(t)},Ii=function(t){return"/user/".concat(t)},Li=function(){return"/edit"},$i=(n("ac6a"),n("a70e")),Ni=n.n($i),Mi=n("4dd1"),Ri=n.n(Mi);n("9f21");Ni.a.registerLanguage("javascript",Ri.a),c["default"].directive("highlight",function(t){var e=t.querySelectorAll("pre code");e.length&&e.forEach(function(t){Ni.a.highlightBlock(t)})});n("26e2"),n("c1c7"),n("f5df");window.FastClick.attach(document.body),c["default"].config.productionTip=!1,new c["default"]({el:"#app",router:xi,store:Wn,render:function(t){return t($)},provide:{path:o}})},da3a:function(t,e,n){},dee0:function(t,e,n){},e0e8:function(t,e,n){"use strict";var a=n("2d9f"),i=n.n(a);i.a},e5b2:function(t,e,n){"use strict";var a=n("9225"),i=n.n(a);e["default"]=i.a},e8e8:function(t,e){},f66a:function(t,e,n){},ffad:function(t,e,n){}});
//# sourceMappingURL=app.74dac85a.js.map