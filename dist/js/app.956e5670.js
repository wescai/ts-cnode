(function(t){function e(e){for(var r,o,i=e[0],u=e[1],s=e[2],l=0,d=[];l<i.length;l++)o=i[l],c[o]&&d.push(c[o][0]),c[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);f&&f(e);while(d.length)d.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var i=n[o];0!==c[i]&&(r=!1)}r&&(a.splice(e--,1),t=u(u.s=n[0]))}return t}var r={},o={app:0},c={app:0},a=[];function i(t){return u.p+"js/"+({home:"home"}[t]||t)+"."+{"chunk-233a":"84b81faf","chunk-0259":"6bed1c7b","chunk-5ab0":"0885ca0f","chunk-5c61":"2b0ee304","chunk-6781":"c42fcf89",home:"bc5aeec9"}[t]+".js"}function u(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={"chunk-233a":1,"chunk-0259":1,"chunk-5ab0":1,"chunk-5c61":1,"chunk-6781":1,home:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise(function(e,n){for(var r="css/"+({home:"home"}[t]||t)+"."+{"chunk-233a":"9d68c9db","chunk-0259":"9f7b8aae","chunk-5ab0":"b72c710a","chunk-5c61":"0c8a920d","chunk-6781":"4fc81db0",home:"8a45febe"}[t]+".css",o=u.p+r,c=document.getElementsByTagName("link"),a=0;a<c.length;a++){var i=c[a],s=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(s===r||s===o))return e()}var l=document.getElementsByTagName("style");for(a=0;a<l.length;a++){i=l[a],s=i.getAttribute("data-href");if(s===r||s===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var r=e&&e.target&&e.target.src||o,c=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");c.request=r,n(c)},d.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(d)}).then(function(){o[t]=0}));var r=c[t];if(0!==r)if(r)e.push(r[2]);else{var a=new Promise(function(e,n){r=c[t]=[e,n]});e.push(r[2]=a);var s,l=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=i(t),s=function(e){d.onerror=d.onload=null,clearTimeout(f);var n=c[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+r+": "+o+")");a.type=r,a.request=o,n[1](a)}c[t]=void 0}};var f=setTimeout(function(){s({type:"timeout",target:d})},12e4);d.onerror=d.onload=s,l.appendChild(d)}return Promise.all(e)},u.m=t,u.c=r,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(n,r,function(e){return t[e]}.bind(null,r));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="",u.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var f=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"0613":function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"state",function(){return m}),n.d(r,"actions",function(){return v}),n.d(r,"mutations",function(){return g}),n.d(r,"getters",function(){return b});var o={};n.r(o),n.d(o,"state",function(){return j}),n.d(o,"actions",function(){return E}),n.d(o,"mutations",function(){return _}),n.d(o,"getters",function(){return T});n("cadf"),n("551c"),n("097d");var c,a,i,u,s=n("2b0e"),l=n("2f62"),d=n("a322"),f=(n("f751"),n("96cf"),n("3040")),h=n("17da"),p=n("6c43"),m={currentTab:"all",tabbar:"home",topics:[],openTopics:[],topicsScroll:0},v=(c={},Object(d["a"])(c,p["c"],function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(e){var n,r,o,c=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,r=c.length>1&&void 0!==c[1]?c[1]:{tab:"all",page:1},t.next=4,Object(h["d"])(r.tab,r.page);case 4:o=t.sent,n(p["c"],o);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),Object(d["a"])(c,p["g"],function(t,e){var n=t.commit;n(p["g"],e)}),Object(d["a"])(c,p["b"],function(t,e){var n=t.commit;n(p["b"],e)}),Object(d["a"])(c,p["d"],function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(e,n){var r,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Object(h["c"])(n);case 3:o=t.sent,o=Object.assign({},o,{scroll:0}),r(p["d"],o);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),Object(d["a"])(c,p["e"],function(t,e){var n=t.commit;n(p["e"],e)}),Object(d["a"])(c,p["f"],function(t,e){var n=t.commit;n(p["f"],e)}),Object(d["a"])(c,p["a"],function(t,e){var n=t.commit;n(p["a"],e)}),c),g=(a={},Object(d["a"])(a,p["c"],function(t,e){t.topics=t.topics.concat(e)}),Object(d["a"])(a,p["g"],function(t,e){t.currentTab=e,t.topics=[],t.topicsScroll=0}),Object(d["a"])(a,p["b"],function(t,e){t.tabbar=e}),Object(d["a"])(a,p["d"],function(t,e){var n=!1;t.openTopics.map(function(t){return t.id===e.id&&(n=!0)&&(t.replies=e.replies)}),!n&&t.openTopics.push(e)}),Object(d["a"])(a,p["e"],function(t,e){t.topicsScroll=e}),Object(d["a"])(a,p["f"],function(t,e){t.openTopics.map(function(t){t.id===e.id&&(t.scroll=e.scroll)})}),Object(d["a"])(a,p["a"],function(t,e){e.result&&t.openTopics.map(function(t){return t.id===e.topic&&(t.is_collect=!t.is_collect)})}),a),b={},O=(n("55dd"),n("133d")),k=n("ea9b"),y=n("a38f"),w=n("d257"),j={localToken:Object(w["d"])("accessToken"),accessToken:"",users:[],tab:"replies",scroll:0,loginname:"",avatar_url:"",id:"",message:[]},E=(i={},Object(d["a"])(i,y["d"],function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(e,n){var r,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Object(k["d"])(n);case 3:o=t.sent,o["collect"]=[],r(y["d"],o);case 6:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),Object(d["a"])(i,y["a"],function(t,e){var n=t.commit;n(y["a"],e)}),Object(d["a"])(i,y["e"],function(t,e){var n=t.commit;n(y["e"],e)}),Object(d["a"])(i,y["f"],function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(e,n){var r,o,c,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Object(k["e"])(n);case 3:if(o=t.sent,c=o.success,a=Object(O["a"])(o,["success"]),c){t.next=8;break}return t.abrupt("return");case 8:i=Object.assign({},a,{accessToken:n,localToken:n}),r(y["f"],i);case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),Object(d["a"])(i,y["g"],function(t){var e=t.commit;e(y["g"])}),Object(d["a"])(i,y["b"],function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(e,n){var r,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Object(k["g"])(n);case 3:o=t.sent,r(y["b"],o);case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),Object(d["a"])(i,y["c"],function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(e,n){var r,o;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,Object(k["c"])(n);case 3:o=t.sent,o.sort(C),Object.assign(o,{loginname:n}),r(y["c"],o);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()),i),_=(u={},Object(d["a"])(u,y["d"],function(t,e){e.recent_replies.sort(C),e.recent_topics.sort(C),t.tab="replies",t.scroll=0,t.users.push(e)}),Object(d["a"])(u,y["a"],function(t,e){t.tab=e}),Object(d["a"])(u,y["e"],function(t,e){t.scroll=e}),Object(d["a"])(u,y["f"],function(t,e){Object.assign(t,e),Object(w["g"])("accessToken",e.accessToken),Object(w["g"])("loginName",e.loginname)}),Object(d["a"])(u,y["g"],function(t){t.accessToken="",t.localToken="",t.avatar_url="",t.id="",t.loginname="",t.message=[],Object(w["e"])("accessToken"),Object(w["e"])("loginName")}),Object(d["a"])(u,p["a"],function(){var t=Object(f["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(k["c"])(e.loginname||Object(w["d"])("loginName"));case 2:n=t.sent,e.users.length&&(e.users[0]["collect"]=n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),Object(d["a"])(u,y["b"],function(t,e){t.message=e}),Object(d["a"])(u,y["c"],function(t,e){t.users.map(function(t){return t.loginname===e.loginname&&(t.collect=e)})}),u),T={token:function(t){return t.accessToken},localToken:function(t){return t.localToken}},C=function(t,e){return+new Date(e.last_reply_at)-+new Date(t.last_reply_at)};s["default"].use(l["a"]);e["a"]=new l["a"].Store({state:{request:!1},mutations:{request:function(t,e){t.request=e}},modules:{topics:r,user:o}})},1292:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");e["default"]={name:"Home",path:"/",component:function(){return Promise.all([n.e("chunk-233a"),n.e("chunk-5ab0"),n.e("chunk-5c61")]).then(n.bind(null,"1999"))}}},1782:function(t,e,n){"use strict";var r=n("5057"),o=n.n(r);e["default"]=o.a},"17da":function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"c",function(){return c}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return i});var r=n("79f6"),o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;return Object(r["a"])("topics",{tab:t,page:e,limit:n}).then(function(t){return t.data.data})},c=function(t){return Object(r["a"])("topic/".concat(t)).then(function(t){return t.data.data})},a=function(t){return Object(r["b"])("topics",t).then(function(t){return t.data})},i=function(t){var e=t.content,n=t.topic_id;return Object(r["b"])("topic/".concat(n,"/replies"),{content:e}).then(function(t){return t.data})}},"26e2":function(t,e,n){},2856:function(t,e,n){},"39a8":function(t,e,n){"use strict";n.r(e),e["default"]={private:!0,name:"local",path:"/local",component:function(){return n.e("home").then(n.bind(null,"77a8"))}}},"45fa":function(t,e,n){var r={"./_local/_router.ts":"39a8","./details/_router.ts":"4c99","./main/_router.ts":"1292","./qrcode-login/_router.ts":"a1e6","./user/_router.ts":"cb44"};function o(t){var e=c(t);return n(e)}function c(t){var e=r[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}o.keys=function(){return Object.keys(r)},o.resolve=c,t.exports=o,o.id="45fa"},"48b8":function(t,e,n){},"4c99":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");e["default"]={path:"/details/:topic",name:"TopicDetails",component:function(){return Promise.all([n.e("chunk-233a"),n.e("chunk-0259")]).then(n.bind(null,"deac"))},props:!0}},"4d9c":function(t,e,n){"use strict";var r=n("c665"),o=n("aa9a"),c=n("2b0e"),a={},i=["Null","Array","String","Object","Number","Boolean","Function","Undefined"];i.map(function(t){return a["is".concat(t)]=function(e){return toString.call(e)==="[object ".concat(t,"]")}});var u=a,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"toast"}},[t.show?n("div",{class:t.toast},[t.isLoading?n("div",{class:t.iconCls}):t._e(),n("div",{staticClass:"wu-toast-content"},[t._v(t._s(t.message))])]):t._e()])},l=[],d=(n("c5f6"),n("a322")),f=n("dc0a"),h=n("d328"),p=n("11d9"),m=n("9ab4"),v=n("60a3"),g=n("ac62"),b="wu-toast",O=function(t){function e(){var t;return Object(r["a"])(this,e),t=Object(h["a"])(this,Object(p["a"])(e).apply(this,arguments)),t.show=!0,t}return Object(o["a"])(e,[{key:"mounted",value:function(){var t=this;this.duration>0&&setTimeout(function(){t.show=!t.show},this.duration)}},{key:"iconCls",get:function(){return["iconfont",Object(d["a"])({},"loading",this.isLoading)]}},{key:"toast",get:function(){return["".concat(b),"".concat(b,"-").concat(this.position)]}}]),Object(f["a"])(e,t),e}(v["c"]);m["a"]([Object(v["b"])(),m["b"]("design:type",String)],O.prototype,"message",void 0),m["a"]([Object(v["b"])({default:3e3}),m["b"]("design:type",Number)],O.prototype,"duration",void 0),m["a"]([Object(v["b"])({default:!1}),m["b"]("design:type",Boolean)],O.prototype,"isLoading",void 0),m["a"]([Object(v["b"])({default:"center"}),m["b"]("design:type",String)],O.prototype,"position",void 0),O=m["a"]([Object(v["a"])({components:{Icon:g["a"]}})],O);var k=O,y=k,w=(n("5f5b"),n("2877")),j=Object(w["a"])(y,s,l,!1,null,null,null);j.options.__file="toast.vue";var E=j.exports;n.d(e,"a",function(){return x});var _=c["default"].extend(E),T=document.createElement("div"),C=function(t){return u.isObject(t)?t:{message:t}},S=function(){function t(){Object(r["a"])(this,t),this.queue=[]}return Object(o["a"])(t,[{key:"createToast",value:function(t){var e=C(t),n=new _({el:T,propsData:e});return document.body.appendChild(n.$el),this.queue.push(n),this.queue[this.queue.length-1]}},{key:"show",value:function(t){return this.createToast(t)}},{key:"hide",value:function(){this.queue[this.queue.length-1].show=!1,this.queue.pop()}},{key:"clearAll",value:function(){this.queue.map(function(t){return t.show=!1}),this.queue=[]}},{key:"loading",value:function(t){return this.createToast({isLoading:!0,message:t,duration:0})}}]),t}(),x=new S},5057:function(t,e,n){t.exports={image:"index_image_2CkF6"}},"5c0b":function(t,e,n){"use strict";var r=n("2856"),o=n.n(r);o.a},"5f5b":function(t,e,n){"use strict";var r=n("48b8"),o=n.n(r);o.a},"6c43":function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"g",function(){return c}),n.d(e,"b",function(){return a}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return u}),n.d(e,"a",function(){return s});var r="REQUEST__TOPICS",o="REQUEST__TOPIC__DETAILS",c="TOPICS__CHANGE__TAB",a="CHANGE__TABBAR",i="SET__TOPICS__SCROLL",u="SET__TOPIC__SCROLL",s="CHANGE__COLLECT"},"79f6":function(t,e,n){"use strict";n("f751");var r=n("bc3a"),o=n.n(r),c="https://cnodejs.org/api/v1/",a=n("4d9c"),i=n("0613"),u=n("a38f");n.d(e,"a",function(){return d}),n.d(e,"b",function(){return f});var s=function(){return i["a"].getters.localToken||i["a"].getters.token},l=o.a.create({baseURL:c,timeout:0,headers:{"X-Requested-With":"XMLHttpRequest"},maxContentLength:2e3});l.interceptors.request.use(function(t){i["a"].commit("request",!0);var e=!!~t.url.indexOf("accesstoken"),n=t.method;return"get"===n&&!t.params&&s()&&(t.params=Object.assign({},t.params,{accesstoken:s()})),"post"!==n||e||(t.data=Object.assign({},t.data,{accesstoken:s()})),t},function(t){return Promise.reject(t)}),l.interceptors.response.use(function(t){return i["a"].commit("request",!1),t},function(t){var e=t.response.data&&t.response.data.error_msg;i["a"].commit("request",!1),i["a"].commit(u["g"]),a["a"].show({message:e,duration:5e3})});var d=function(t,e){return l.get(t,{params:e})},f=function(t,e){return l.post(t,e)}},"802c":function(t,e,n){"use strict";var r=n("d914"),o=n.n(r);e["default"]=o.a},a1e6:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");e["default"]={path:"/qrcode",name:"qrcode",component:function(){return n.e("chunk-6781").then(n.bind(null,"1086"))}}},a38f:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return a}),n.d(e,"g",function(){return i}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return s});var r="GET__USER__INFO",o="CHANGE__USER__TAB",c="UPDATE__USER__SCROLL",a="USER__LOGIN",i="USER__LOGOUT",u="GET__MY__MESSAGE",s="GET__USER__COLLECT"},ac62:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("i",{class:t.className})},o=[],c=n("c665"),a=n("dc0a"),i=n("aa9a"),u=n("d328"),s=n("11d9"),l=n("9ab4"),d=n("60a3"),f="iconfont",h=function(t){function e(){return Object(c["a"])(this,e),Object(u["a"])(this,Object(s["a"])(e).apply(this,arguments))}return Object(i["a"])(e,[{key:"className",get:function(){return["".concat(f),"icon-".concat(this.type)]}}]),Object(a["a"])(e,t),e}(d["c"]);l["a"]([Object(d["b"])(),l["b"]("design:type",String)],h.prototype,"type",void 0),h=l["a"]([d["a"]],h);var p=h,m=p,v=n("2877"),g=Object(v["a"])(m,r,o,!1,null,null,null);g.options.__file="index.vue";e["a"]=g.exports},c1c7:function(t,e,n){"use strict";(function(t){var e=n("6bde");n("4917");(function(){
/**
   * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.
   *
   * @codingstandard ftlabs-jsv2
   * @copyright The Financial Times Limited [All Rights Reserved]
   * @license MIT License (see LICENSE.txt)
   */
function r(t,e){var n;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=t,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!r.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,i=0,u=o.length;i<u;i++)a[o[i]]=s(a[o[i]],a);c&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,r){var o=Node.prototype.removeEventListener;"click"===e?o.call(t,e,n.hijacked||n,r):o.call(t,e,n,r)},t.addEventListener=function(e,n,r){var o=Node.prototype.addEventListener;"click"===e?o.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):o.call(t,e,n,r)}),"function"===typeof t.onclick&&(n=t.onclick,t.addEventListener("click",function(t){n(t)},!1),t.onclick=null)}function s(t,e){return function(){return t.apply(e,arguments)}}}var o=navigator.userAgent.indexOf("Windows Phone")>=0,c=navigator.userAgent.indexOf("Android")>0&&!o,a=/iP(ad|hone|od)/.test(navigator.userAgent)&&!o,i=a&&/OS 4_\d(_\d)?/.test(navigator.userAgent),u=a&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;r.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(a&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},r.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!c;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},r.prototype.sendClick=function(t,e){var n,r;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},r.prototype.determineEventType=function(t){return c&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},r.prototype.focus=function(t){var e;a&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type&&"email"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},r.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},r.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},r.prototype.onTouchStart=function(t){var e,n,r;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],a){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!i){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},r.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},r.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},r.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},r.prototype.onTouchEnd=function(t){var e,n,r,o,s,l=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,u&&(s=t.changedTouches[0],l=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=l.tagName.toLowerCase(),"label"===r){if(e=this.findControl(l),e){if(this.focus(l),c)return!1;l=e}}else if(this.needsFocus(l))return t.timeStamp-n>100||a&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,t),a&&"select"===r||(this.targetElement=null,t.preventDefault()),!1);return!(!a||i||(o=l.fastClickScrollParent,!o||o.fastClickLastScrollTop===o.scrollTop))||(this.needsClick(l)||(t.preventDefault(),this.sendClick(l,t)),!1)},r.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},r.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},r.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},r.prototype.destroy=function(){var t=this.layer;c&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},r.notNeeded=function(t){var e,n,r,o;if("undefined"===typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],n){if(!c)return!0;if(e=document.querySelector("meta[name=viewport]"),e){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]"),e))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(o>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},r.attach=function(t,e){return new r(t,e)},"function"===typeof define&&"object"===Object(e["a"])(n("3c35"))&&n("3c35")?define(function(){return r}):"undefined"!==typeof t&&t.exports?(t.exports=r.attach,t.exports.FastClick=r):window.FastClick=r})()}).call(this,n("dd40")(t))},cb44:function(t,e,n){"use strict";n.r(e),e["default"]={path:"/user/:loginname",name:"User",component:function(){return Promise.all([n.e("chunk-233a"),n.e("chunk-5ab0")]).then(n.bind(null,"5d61"))},props:!0}},cd49:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"home",function(){return F}),n.d(r,"details",function(){return $}),n.d(r,"user",function(){return U}),n.d(r,"edit",function(){return H}),n.d(r,"qrcode",function(){return X});n("cadf"),n("551c"),n("097d");var o=n("2b0e"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],i=(n("a481"),n("c665")),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{class:t.$style.imgView,on:{click:function(e){t.show=!1}}},[n("img",{attrs:{src:t.src}})]):t._e()},s=[],l=n("dc0a"),d=n("aa9a"),f=n("d328"),h=n("11d9"),p=n("9ab4"),m=n("60a3"),v=function(t){function e(){var t;return Object(i["a"])(this,e),t=Object(f["a"])(this,Object(h["a"])(e).apply(this,arguments)),t.show=!0,t}return Object(d["a"])(e,[{key:"mounted",value:function(){var t=this;this.$nextTick(function(){t.$el.scrollLeft=(t.$el.scrollWidth-t.$el.clientWidth)/2})}}]),Object(l["a"])(e,t),e}(m["c"]);p["a"]([Object(m["b"])(),p["b"]("design:type",String)],v.prototype,"src",void 0),v=p["a"]([m["a"]],v);var g=v,b=g,O=n("802c"),k=n("2877");function y(t){this["$style"]=O["default"].locals||O["default"]}var w=Object(k["a"])(b,u,s,!1,y,null,null);w.options.__file="img-view.vue";var j=w.exports,E=o["default"].extend(j),_=document.createElement("div"),T=function t(e){Object(i["a"])(this,t),document.body.appendChild(new E({el:_,propsData:{src:e}}).$el)},C=function(t){return new T(t)},S=function(){document.querySelector("#app").addEventListener("click",function(t){var e=t||window.event,n=e.target,r=n.host===window.location.host;if("a"===n.nodeName.toLowerCase()&&r&&~n.textContent.indexOf("@")){var o=n.textContent.replace("@","");t.preventDefault(),window.location.href="".concat(window.location.origin).concat(window.location.pathname,"#/user/").concat(o)}"img"===n.nodeName.toLowerCase()&&C(n.currentSrc)})},x={mounted:function(){S()}},A=x,L=(n("5c0b"),Object(k["a"])(A,c,a,!1,null,null,null));L.options.__file="App.vue";var N=L.exports,R=(n("ac6a"),n("8c4f"));o["default"].use(R["a"]);var P=!1,q=[],I=n("45fa");I.keys().forEach(function(t){var e=I(t).default;e.private&&!P||q.push(e)});var M,B=new R["a"]({routes:q}),D=n("0613"),F=function(){return"/"},$=function(t){return"/details/".concat(t)},U=function(t){return"/user/".concat(t)},H=function(){return"/edit"},X=function(){return"/qrcode"},G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("img",{ref:"img",class:t.$style.image,attrs:{"data-src":t.src,src:t.placeholder}})},W=[],Y=(n("96cf"),n("3040")),z=0;if("IntersectionObserver"in window){var V=document.createElement("script");V.src="https://polyfill.io/v2/polyfill.min.js?features=IntersectionObserver",document.body.appendChild(V)}var Q=function(t){function e(){return Object(i["a"])(this,e),Object(f["a"])(this,Object(h["a"])(e).apply(this,arguments))}return Object(d["a"])(e,[{key:"mounted",value:function(){var t=this.$refs.img;this.lazy?(M||(M=new IntersectionObserver(this.handerIntersecationObserver,{threshold:1})),M.observe(t),z++):this.loadImg(t)}},{key:"handerIntersecationObserver",value:function(t){for(var e=0;e<t.length;e++){var n=t[e];n.intersectionRatio>0&&(M.unobserve(n.target),z--,this.loadImg(n.target),0===z&&this.unObserve())}}},{key:"unObserve",value:function(){M.disconnect(),M=null}},{key:"loadImg",value:function(){var t=Object(Y["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=e.dataset.src,t.prev=1,t.next=4,this.fetchImage(n);case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t["catch"](1),console.log("img loading errr  %o",t.t0),t.abrupt("return");case 10:e.src=n;case 11:case"end":return t.stop()}},t,this,[[1,6]])}));return function(e){return t.apply(this,arguments)}}()},{key:"fetchImage",value:function(t){return new Promise(function(e,n){var r=new Image;r.src=t,r.onload=e,r.onerror=n})}}]),Object(l["a"])(e,t),e}(m["c"]);p["a"]([Object(m["b"])({default:!0}),p["b"]("design:type",Boolean)],Q.prototype,"lazy",void 0),p["a"]([Object(m["b"])(),p["b"]("design:type",String)],Q.prototype,"fallback",void 0),p["a"]([Object(m["b"])(),p["b"]("design:type",String)],Q.prototype,"src",void 0),p["a"]([Object(m["b"])({default:"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}),p["b"]("design:type",String)],Q.prototype,"placeholder",void 0),Q=p["a"]([m["a"]],Q);var J=Q,K=J,Z=n("1782");function tt(t){this["$style"]=Z["default"].locals||Z["default"]}var et=Object(k["a"])(K,G,W,!1,tt,null,null);et.options.__file="index.vue";var nt=et.exports,rt=n("a70e"),ot=n.n(rt),ct=n("4dd1"),at=n.n(ct);n("9f21");ot.a.registerLanguage("javascript",at.a),o["default"].directive("highlight",function(t){var e=t.querySelectorAll("pre code");e.length&&e.forEach(function(t){ot.a.highlightBlock(t)})});n("26e2"),n("c1c7"),n("f5df");o["default"].component("image-lazy",nt),window.FastClick.attach(document.body),o["default"].config.productionTip=!1,new o["default"]({el:"#app",router:B,store:D["a"],render:function(t){return t(N)},provide:{path:r}})},d257:function(t,e,n){"use strict";n.d(e,"g",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"e",function(){return c}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return i}),n.d(e,"f",function(){return u}),n.d(e,"b",function(){return s});var r=function(t,e){return window.localStorage.setItem(t,e)},o=function(t){return window.localStorage.getItem(t)},c=function(t){return window.localStorage.removeItem(t)},a=function(t,e){return document.querySelector(t)[e]},i=function(t){return t.reduce(function(t,e){return t+a(e,"clientHeight")},0)},u=function(t,e,n){return document.querySelector(t).setAttribute(e,n)},s=document.documentElement.clientHeight},d914:function(t,e,n){t.exports={imgView:"img-view_imgView_zCRro"}},ea9b:function(t,e,n){"use strict";n.d(e,"d",function(){return o}),n.d(e,"c",function(){return c}),n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i}),n.d(e,"e",function(){return u}),n.d(e,"g",function(){return s}),n.d(e,"f",function(){return l});var r=n("79f6"),o=function(t){return Object(r["a"])("user/".concat(t)).then(function(t){return t.data.data})},c=function(t){return Object(r["a"])("topic_collect/".concat(t)).then(function(t){return t.data.data})},a=function(t){return Object(r["b"])("topic_collect/collect",t).then(function(t){return t.data.success})},i=function(t){return Object(r["b"])("topic_collect/de_collect",t).then(function(t){return t.data.success})},u=function(t){return Object(r["b"])("accesstoken",{accesstoken:t}).then(function(t){return t.data})},s=function(t){return Object(r["a"])("messages",{accesstoken:t}).then(function(t){var e=t.data.data,n=e.has_read_messages,r=e.hasnot_read_messages;return r.concat(n)})},l=function(){return Object(r["b"])("message/mark_all").then(function(t){return t.data})}}});
//# sourceMappingURL=app.956e5670.js.map